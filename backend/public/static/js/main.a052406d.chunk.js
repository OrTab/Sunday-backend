(this["webpackJsonpmonday-proj"]=this["webpackJsonpmonday-proj"]||[]).push([[0],{285:function(e,t,r){},317:function(e,t){},355:function(e,t){},467:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r(0),c=r.n(a),s=r(13),i=r.n(s),o=r(15),u=r(32),l=(r(285),r(3)),d=r.n(l),b=r(6),p=r(52),j=r(5),f=r(25),h=r(26),m=r(28),O=r(27),v=r(11),g=r(23),x=r(241),y=r.n(x),w=r(121),N=r.n(w),k="/api/",C=N.a.create({withCredentials:!0}),S=function(e,t){return M(e,"GET",t)},D=function(e,t){return M(e,"POST",t)},_=function(e,t){return M(e,"PUT",t)},A=function(e,t){return M(e,"DELETE",t)};function M(e){return U.apply(this,arguments)}function U(){return(U=Object(b.a)(d.a.mark((function e(t){var r,n,a,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:"get",n=c.length>2&&void 0!==c[2]?c[2]:null,e.prev=2,e.next=5,C({url:"".concat(k).concat(t),method:r,data:n});case 5:return a=e.sent,e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(2),e.t0.response&&401===e.t0.response.status&&window.location.assign("/#/login"),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}var I=function(){var e=null,t={setup:function(){e||(e=y()("https://sunday-app-2021.herokuapp.com/",{reconnection:!1}),!0)},on:function(r,n){e||t.setup(),e.on(r,n)},off:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e||t.setup(),n?e.off(r,n):e.removeAllListeners(r)},emit:function(r,n){e||t.setup(),e.emit(r,n)},terminate:function(){e=null,!1}};return t}();var R={delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;return new Promise((function(t){setTimeout(t,e)}))},getRandomInt:T,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t},getNameInitials:function(e){var t=(e=e.split(" ")).map((function(e){return e[0]})).join("").toUpperCase();return t.length>3?t.substring(0,3):t},getRandomPassword:function(){for(var e="",t=["ABCDEFGHIJKLMNOPKRSTUVWXYZ","abcdefghijklmnopkrstuvwxyz","@#$%^&*!","1234567890"],r=0,n=0;n<8;n++){var a=t[r],c=T(0,a.length);e+=a.charAt(c),3===++r&&(r=0)}return e},getNameOfMonth:function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return""}}};function T(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e)+e)}var E={login:function(e){return J.apply(this,arguments)},logout:function(){return H.apply(this,arguments)},signup:function(e){return q.apply(this,arguments)},getUsers:function(e){var t=e?"?fullname=".concat(e):"";return S("user".concat(t))},getUserById:B,getUsersById:function(e){return F.apply(this,arguments)},remove:function(e){return A("user/".concat(e))},update:G,getLoggedinUser:W,updateNotifications:function(e){return K.apply(this,arguments)},cleanNotifications:function(e){return Z.apply(this,arguments)},updateReadNotifications:function(e){if(e.notifications)return e.notifications.forEach((function(e){return e.isRead=!0})),G(e)}};function B(e){return L.apply(this,arguments)}function L(){return(L=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("user/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=JSON.stringify(t),e.next=3,S("user/boardMembers?usersId=".concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return P.apply(this,arguments)}function P(){return(P=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("user/".concat(t._id),t);case 2:return r=e.sent,W()._id===r._id&&z(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return(J=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("auth/login",t);case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",z(r));case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),new Error("Could'nt find users");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function q(){return(q=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",z(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D("auth/logout");case 2:return sessionStorage.clear(),e.abrupt("return");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e){return sessionStorage.setItem("loggedinUser",JSON.stringify(e)),e}function W(){return JSON.parse(sessionStorage.getItem("loggedinUser"))}function K(){return(K=Object(b.a)(d.a.mark((function e(t){var r,n,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.memberId,n=t.notificationTxt,a=t.user,c={id:R.makeId(),notificationTxt:n,isRead:!1,createdAt:Date.now(),byMember:{_id:a._id,fullname:a.fullname,imgUrl:a.imgUrl?a.imgUrl:null}},e.next=4,B(r);case 4:return(s=e.sent).notifications?s.notifications=[c].concat(Object(g.a)(s.notifications)):s.notifications=[c],e.next=8,G(s);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B(t._id);case 2:return(r=e.sent).notifications=[],e.abrupt("return",G(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return function(t){var r={type:"SET_MSG",msg:e};t(r),setTimeout((function(){t(r={type:"CLEAR_MSG"})}),2e3)}}function V(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.login(e);case 3:return n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function X(){return function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.logout();case 3:t({type:"LOG_OUT"}),t({type:"SET_BOARDS",boards:[]}),t({type:"SET_CURR_BOARD",board:null}),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}function $(e){return function(t){t({type:"SET_LOGGED_IN_USER",user:e})}}var Q=r(150),ee={query:function(e){return te.apply(this,arguments)},removeBoard:function(e){return ne.apply(this,arguments)},getBoardById:function(e,t){return re.apply(this,arguments)},addCard:function(e){return se.apply(this,arguments)},addBoard:function(e,t){return ae.apply(this,arguments)},addGroup:function(e,t){return ie.apply(this,arguments)},deleteCard:function(e){return oe.apply(this,arguments)},getBoardIdByIdx:function(e,t){var r;return!e&&t.length?t[1]._id:null===(r=t[e-1])||void 0===r?void 0:r._id},changeBoardTitle:function(e,t,r){return ue.apply(this,arguments)},changeCardTitle:function(e){return ve.apply(this,arguments)},changeGroupTitle:function(e){return je.apply(this,arguments)},updateTaskMembers:function(e,t,r,n,a,c){try{var s,i,o,u=Object(j.a)({},r),l=ce(u,a);"remove"===t?(i="removed ".concat(e._id===c._id?"yourself":e.fullname," from card '").concat(n.title,"' "),e._id!==c._id&&(o="".concat(c.fullname," removed you from card '").concat(n.title,"' in group : ").concat(l.title)),s=l.cards.map((function(t){if(n.id===t.id){var r=t.members.filter((function(t){return t!==e._id}));return t.members=r,t}return t}))):(i="added ".concat(e._id===c._id?"yourself":e.fullname," to card '").concat(n.title,"'"),e._id!==c._id&&(o="".concat(c.fullname," added you to card '").concat(n.title,"' in group : ").concat(l.title)),s=l.cards.map((function(t){if(n.id===t.id){var r=[].concat(Object(g.a)(t.members),[e._id]);return t.members=r,t}return t})));var d=xe(c,i);u.activities=[d].concat(Object(g.a)(u.activities)),l.cards=s;var b=u.groups.map((function(e){return e.id===l.id?l:e}));return u.groups=b,_("board",u),o?{memberId:e._id,notificationTxt:o,user:c,boardToUpdate:u}:{boardToUpdate:u}}catch(p){throw p}},changeCardDates:function(e,t,r,n,a){return ge.apply(this,arguments)},changeCardLabels:function(e){return fe.apply(this,arguments)},deleteLabel:function(e){return he.apply(this,arguments)},changeGroupColor:function(e,t,r){return le.apply(this,arguments)},removeGroup:function(e,t,r){return de.apply(this,arguments)},changeBoardMemebrs:function(e,t,r,n){var a,c,s=Object(j.a)({},t);"remove"===r?(e._id!==n._id&&(c="".concat(n.fullname," removed you from '").concat(t.title,"' ")),a="removed ".concat(e.fullname," from this board"),s.members=s.members.filter((function(t){return t!==e._id})),s.groups=s.groups.map((function(t){return t.cards=t.cards.map((function(t){return t.members=t.members.filter((function(t){return t!==e._id})),t})),t}))):(a="added ".concat(e.fullname," to this board"),e._id!==n._id&&(c="".concat(n.fullname," add you to '").concat(t.title,"'")),s.members=[].concat(Object(g.a)(s.members),[e._id]));var i=xe(n,a);return s.activities=[i].concat(Object(g.a)(s.activities)),_("board",s),c?{memberId:e._id,notificationTxt:c,user:n,boardToUpdate:s}:{boardToUpdate:s}},changeGroupIdx:function(e,t){return be.apply(this,arguments)},changeCardIdx:function(e,t){return pe.apply(this,arguments)},sortByTitle:function(e){return e.sort((function(e,t){return e.title.toLowerCase()>t.title.toLowerCase()?1:e.title.toLowerCase()<t.title.toLowerCase()?-1:0})),e},sortByDate:function(e){return e.sort((function(e,t){return t.createdAt-e.createdAt})),e},sortCardByDate:function(e){var t=JSON.parse(JSON.stringify(e));return t=t.sort((function(e,t){var r,n;return r=e.dueDate.endDate?e.dueDate.endDate:e.dueDate.startDate?e.dueDate.startDate:e.createdAt,n=t.dueDate.endDate?t.dueDate.endDate:t.dueDate.startDate?t.dueDate.startDate:t.createdAt,new Date(r).getTime()-new Date(n).getTime()}))},addCardLabel:function(e,t,r,n){return Oe.apply(this,arguments)},updateActivities:function(e,t){var r=JSON.parse(JSON.stringify(e));t?r.activities=[]:r.activities.forEach((function(e){return e.isRead=!0}));return _("board",r)},deepSearchByKey:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null!==t)if(Array.isArray(t)){var a,c=Object(Q.a)(t);try{for(c.s();!(a=c.n()).done;){var s=a.value;e(s,r,n)}}catch(l){c.e(l)}finally{c.f()}}else if("object"===typeof t)for(var i=0,o=Object.keys(t);i<o.length;i++){var u=o[i];"groups"===u?e(t[u],r,n):"cards"===u&&t.hasOwnProperty("cards")?t[u].forEach((function(e){e._id===r&&n.push(t)})):e(t[u],r,n)}return n},getKeyById:function(e,t){var r=new Set;return function e(t,n){if(!t)return void r.clear();if(r.has(t))return void r.clear();if(r.add(t),Array.isArray(t)){var a,c=Object(Q.a)(t);try{for(c.s();!(a=c.n()).done;){var s=e(a.value,n);if(s)return s}}catch(d){c.e(d)}finally{c.f()}}else if("object"===typeof t)for(var i=0,o=Object.keys(t);i<o.length;i++){var u=o[i];if(t[u]===n)return t;if("object"===typeof t[u]||Array.isArray(t[u])){var l=e(t[u],n);if(l)return l}}}(e,t)},addCardUpdate:function(e,t,r){return me.apply(this,arguments)}};function te(){return(te=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t?"?userId=".concat(t):"",e.abrupt("return",S("board".concat(r)));case 5:throw e.prev=5,e.t0=e.catch(0),new Error("couldn't find boards");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function re(){return(re=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",S("board/".concat(t)));case 4:throw e.prev=4,e.t0=e.catch(0),new Error("couldn't find board");case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function ne(){return(ne=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A("board/".concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(b.a)(d.a.mark((function e(t,r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={title:t,createdBy:r,members:[r],activities:[],groups:[we(r)]},e.abrupt("return",D("board",n));case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ce(e,t){return e.groups.find((function(e){return t===e.id}))}function se(){return(se=Object(b.a)(d.a.mark((function e(t){var r,n,a,c,s,i,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.cardTitle,c=t.user,e.prev=1,s=Object(j.a)({},r),i=ce(s,n),o="added a new card : ".concat(a,", to group : ").concat(i.title),u=xe(c,o),s.activities=[u].concat(Object(g.a)(s.activities)),i.cards=[].concat(Object(g.a)(i.cards),[ye(a,c._id)]),s.groups=s.groups.map((function(e){return e.id===i.id?i:e})),_("board",s),e.abrupt("return",s);case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ie(){return(ie=Object(b.a)(d.a.mark((function e(t,r){var n,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object(j.a)({},t),"added a new group",a=xe(r,"added a new group"),n.activities=[a].concat(Object(g.a)(n.activities)),c=we(r._id),n.groups.unshift(c),_("board",n),e.abrupt("return",n);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function oe(){return(oe=Object(b.a)(d.a.mark((function e(t){var r,n,a,c,s,i,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.cardId,c=t.user,e.prev=1,s=Object(j.a)({},r),i=ce(s,n),o="deleted a card in group : ".concat(i.title),u=xe(c,o),s.activities=[u].concat(Object(g.a)(s.activities)),i.cards=i.cards.filter((function(e){return e.id!==a})),s.groups=s.groups.map((function(e){return e.id===i.id?i:e})),_("board",s),e.abrupt("return",s);case 13:throw e.prev=13,e.t0=e.catch(1),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function ue(){return(ue=Object(b.a)(d.a.mark((function e(t,r,n){var a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(j.a)({},r),c="changed board title from '".concat(a.title,"' to '").concat(t,"'"),s=xe(n,c),a.activities=[s].concat(Object(g.a)(a.activities)),a.title=t,_("board",a),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function le(){return(le=Object(b.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(j.a)({},r),c=a.groups.map((function(e){return e.id===n?(e.style.color=t,e):e})),a.groups=c,_("board",a),e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function de(){return(de=Object(b.a)(d.a.mark((function e(t,r,n){var a,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(j.a)({},t),c="removed group ".concat(r.title),s=xe(n,c),a.activities=[s].concat(Object(g.a)(a.activities)),i=a.groups.filter((function(e){return e.id!==r.id})),a.groups=i,_("board",a),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function be(){return(be=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_("board",t);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function pe(){return(pe=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",_("board",t));case 4:throw e.prev=4,e.t0=e.catch(0),e.t0;case 7:case"end":return e.stop()}}),e,null,[[0,4]])})))).apply(this,arguments)}function je(){return(je=Object(b.a)(d.a.mark((function e(t){var r,n,a,c,s,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.groupTitle,c=t.user,e.prev=1,s=Object(j.a)({},r),i="",o=s.groups.map((function(e){return e.id===n?(i=e.title,e.title=a,e):e})),s.groups=o,u="changed group title from ".concat(i," to ").concat(a),l=xe(c,u),s.activities=[l].concat(Object(g.a)(s.activities)),_("board",s),e.abrupt("return",s);case 13:e.prev=13,e.t0=e.catch(1);case 15:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function fe(){return(fe=Object(b.a)(d.a.mark((function e(t){var r,n,a,c,s,i,o,u,l,b,p,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.cardToUpdate,a=t.groupId,c=t.label,s=t.labelType,i=t.user,o=t.labelGroup,e.prev=1,u=Object(j.a)({},r),l=ce(u,a),b="updated ".concat(s," in card '").concat(n.title,"' from '").concat(n[s].text,"' to '").concat(c.text,"'"),p=xe(i,b),u.activities=[p].concat(Object(g.a)(u.activities)),l[o].forEach((function(e){e.id===c.id&&(e.isActive=!0),n[s].id===e.id&&(e.isActive=!1)})),l.cards.forEach((function(e){return n.id===e.id?(e[s]=c,e):e})),f=u.groups.map((function(e){return e.id===l.id?l:e})),u.groups=f,_("board",u),e.abrupt("return",u);case 15:throw e.prev=15,e.t0=e.catch(1),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function he(){return(he=Object(b.a)(d.a.mark((function e(t){var r,n,a,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.labelId,c=t.labelGroup,s=t.cardDetails,e.prev=1,(i=JSON.parse(JSON.stringify(r))).groups=i.groups.map((function(e){return e.id===n?(e[c]=e[c].filter((function(e){return e.id!==a})),e.cards=e.cards.map((function(e){return e[s.labelType].id===a?(e[s.labelType]=s.label,e):e})),e):e})),_("board",i),e.abrupt("return",i);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function me(){return(me=Object(b.a)(d.a.mark((function e(t,r,n){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.createdAt=Date.now(),n.updates?n.updates.unshift(t):n.updates=Object(g.a)(t),a=JSON.parse(JSON.stringify(r)),c=a.groups.map((function(e){var t=e.cards.map((function(e){return e.id===n.id?n:e}));return e.cards=t,e})),a.groups=c,e.abrupt("return",_("board",a));case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Oe(){return(Oe=Object(b.a)(d.a.mark((function e(t,r,n,a){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(c=Object(j.a)({},t)).groups=c.groups.map((function(e){return e.id===r?(e[a]=[].concat(Object(g.a)(e[a]),[Object(j.a)({},n)]),e):e})),_("board",c),e.abrupt("return",c);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ve(){return(ve=Object(b.a)(d.a.mark((function e(t){var r,n,a,c,s,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.board,n=t.groupId,a=t.cardToUpdate,c=t.cardTitle,s=t.user,e.prev=1,i=Object(j.a)({},r),o=ce(i,n),u="changed card title from ".concat(a.title," to ").concat(c),l=xe(s,u),i.activities=[l].concat(Object(g.a)(i.activities)),o.cards=o.cards.map((function(e){return e.id===a.id?(e.title=c,e):e})),i.groups=i.groups.map((function(e){return e.id===o.id?o:e})),e.abrupt("return",_("board",i));case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function ge(){return(ge=Object(b.a)(d.a.mark((function e(t,r,n,a,c){var s,i,o,u,l,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=JSON.parse(JSON.stringify(r)),i=ce(s,n),o="updated dates in card '".concat(a.title,"'"),u=xe(c,o),s.activities=[u].concat(Object(g.a)(s.activities)),l=i.cards.map((function(e){return e.id===a.id?(e.dueDate=t,e):e})),i.cards=l,b=s.groups.map((function(e){return e.id===i.id?i:e})),s.groups=b,_("board",s),e.abrupt("return",s);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xe(e,t){return{id:R.makeId(),txt:t,isRead:!1,createdAt:Date.now(),byMember:e._id}}function ye(e,t){return{id:R.makeId(),title:e,updates:[],members:[t],status:{text:"No status yet",color:"#cccccc",id:R.makeId()},priority:{text:"Set priority",color:"#cccccc",id:R.makeId()},createdAt:Date.now(),dueDate:{startDate:"",endDate:""},createdBy:t}}function we(e){return{id:R.makeId(),title:"New group",createdBy:e,createdAt:Date.now(),statuses:[{text:"Done",color:"#00ca72",id:R.makeId(),isActive:!1},{text:"Stuck",color:"#fb275d",id:R.makeId(),isActive:!1},{text:"Working on it",color:"#ffcc00",id:R.makeId(),isActive:!1}],priorities:[{text:"Low",color:"#6bf1b9",id:R.makeId(),isActive:!1},{text:"Medium",color:"#6b97f1",id:R.makeId(),isActive:!1},{text:"High",color:"#ff812f",id:R.makeId(),isActive:!1},{text:"Urgent",color:"#ff2f2f",id:R.makeId(),isActive:!1}],cardOrder:["members","status","date","workingDays","priority"],cards:[ye("New item",e)],style:{color:"#0085ff"}}}var Ne=function(e,t){return e({type:"SET_CURR_BOARD",board:t})};function ke(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.query(e);case 3:return n=t.sent,r({type:"SET_BOARDS",boards:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function Ce(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.removeBoard(e);case 3:r({type:"REMOVE_BOARD",boardId:e}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Se(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.getBoardById(e);case 3:return n=t.sent,r({type:"SET_CURR_BOARD",board:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}function De(e,t){return function(){var r=Object(b.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ee.addBoard(e,t);case 3:a=r.sent,n({type:"ADD_BOARD",board:a}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}function _e(e){return function(t){try{t({type:"SET_BOARD_MEMBERS",members:e})}catch(r){}}}function Ae(e,t){return function(){var t=Object(b.a)(d.a.mark((function t(r){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:"SET_CURR_BOARD",board:e}),t.next=5,ee.changeCardIdx(e);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Me(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.deleteCard(e);case 3:n=t.sent,r({type:"SET_CURR_BOARD",board:n}),t.next=13;break;case 8:throw t.prev=8,t.t0=t.catch(0),a={type:"SET_CURR_BOARD",board:e.board},r(a),t.t0;case 13:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}function Ue(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee.changeCardTitle(e);case 3:n=t.sent,Ne(r,n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),Ne(r,e.board);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}function Ie(e,t,r){return function(){var n=Object(b.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee.changeGroupColor(e,t,r);case 3:c=n.sent,a({type:"SET_CURR_BOARD",board:c}),n.next=13;break;case 8:throw n.prev=8,n.t0=n.catch(0),a({type:"SET_CURR_BOARD",board:t}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}function Re(e,t,r,n,a){return function(){var c=Object(b.a)(d.a.mark((function c(s){var i;return d.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,ee.changeCardDates(e,t,r,n,a);case 3:i=c.sent,s({type:"SET_CURR_BOARD",board:i}),c.next=13;break;case 8:throw c.prev=8,c.t0=c.catch(0),s({type:"SET_CURR_BOARD",board:t}),c.t0;case 13:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()}var Te=r(512),Ee=r.p+"static/media/sunday-logo.7e9958b4.svg",Be=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isNavOpen:!1,isScrolled:!1,scrollTop:0},e.handleScroll=function(){var t=["/","/login","/signup"];window.scrollY>0&&t.indexOf(e.props.location.pathname)>0?document.querySelector(".home-header-container").className="flex home-header-container header-shadow":t.indexOf(e.props.location.pathname)>0&&(document.querySelector(".home-header-container").className="flex home-header-container")},e.toggleMobileNav=function(){var t=e.state.isNavOpen;e.setState({isNavOpen:!t})},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this,t=this.state.isNavOpen;return Object(n.jsxs)("header",{ref:this.scrollRef,onScroll:this.onScroll,className:"home-header-container flex",children:[Object(n.jsxs)(o.b,{to:"/",children:[" ",Object(n.jsx)("img",{src:Ee,alt:"sunday logo"})," "]}),Object(n.jsxs)("nav",{children:[Object(n.jsxs)("div",{className:"hamburger ".concat(t?"open":""),onClick:this.toggleMobileNav,children:[Object(n.jsx)("span",{}),Object(n.jsx)("span",{}),Object(n.jsx)("span",{})]}),Object(n.jsxs)("ul",{className:"flex nav-list ".concat(t?"open-nav":""),children:[Object(n.jsx)("li",{children:Object(n.jsx)(o.c,{activeClassName:"nav-active",to:"/login",children:"Log in"})}),Object(n.jsx)("li",{children:Object(n.jsx)(o.c,{activeClassName:"nav-active",to:"/signup",children:"Sign up"})}),Object(n.jsx)("li",{children:Object(n.jsx)("button",{className:"home-header-login-btn",onClick:Object(b.a)(d.a.mark((function t(){var r,n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.checkLogin({username:"guest",password:"12345678"});case 3:if(!(r=t.sent)){t.next=10;break}return t.next=7,e.props.loadBoards(r._id);case 7:n=t.sent,a=n.length?"/board/".concat(n[0]._id):"/board",e.props.history.push(a);case 10:t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:case"end":return t.stop()}}),t,null,[[0,12]])}))),children:"Try as guest"})})]})]})]})}}]),r}(a.Component),Le={checkLogin:V,loadBoards:ke,updateUserNotifications:$},Fe=Object(u.g)(Object(v.b)((function(e){return{user:e.userReducer.user}}),Le)(Be)),Ge=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",loggedinUser:"",loginCred:{username:"",password:""}},e.loginHandleChange=function(t){var r=t.target,n=r.name,a=r.value;e.setState((function(e){return{loginCred:Object(j.a)(Object(j.a)({},e.loginCred),{},Object(p.a)({},n,a))}}))},e.doLogin=function(){var t=Object(b.a)(d.a.mark((function t(r){var n,a,c,s,i,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state.loginCred,a=n.username,c=n.password,a&&c){t.next=5;break}return e.setState({msg:"Please enter username/password"}),t.abrupt("return");case 5:return t.prev=5,t.next=8,e.props.checkLogin(Object(j.a)({},e.state.loginCred));case 8:if(!(s=t.sent)){t.next=15;break}return t.next=12,e.props.loadBoards(s._id);case 12:i=t.sent,o=i.length?"/board/".concat(i[0]._id):"/board",e.props.history.push(o);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),e.setState({msg:"Wrong username/password"});case 20:case"end":return t.stop()}}),t,null,[[5,17]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(r,[{key:"render",value:function(){return Object(n.jsxs)("div",{className:"main-login-signup-container",children:[Object(n.jsx)(Fe,{}),Object(n.jsxs)("div",{className:"inner-login-signup-container",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Welcome back"}),Object(n.jsx)("h3",{children:"Log in"})]}),Object(n.jsxs)("form",{onSubmit:this.doLogin,className:"sunday-form",children:[Object(n.jsx)(Te.a,{margin:"normal",required:!0,name:"username",placeholder:"Username",autoFocus:!0,onChange:this.loginHandleChange}),Object(n.jsx)(Te.a,{required:!0,name:"password",type:"password",placeholder:"Password",onChange:this.loginHandleChange}),Object(n.jsx)("h3",{children:this.state.msg}),Object(n.jsx)("button",{className:"login-signup-btn",type:"submit",children:"Sign in"})]}),Object(n.jsxs)(o.b,{to:"/signup",children:["Don't have an account? ",Object(n.jsx)("b",{children:"Sign Up"})]})]})]})}}]),r}(a.Component),Pe={checkLogin:V,loadBoards:ke,updateUserNotifications:$},Je=Object(v.b)((function(e){return{boards:e.boardReducer.boards}}),Pe)(Ge),qe=r(47),He=r(504),ze=r(505),We=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={msg:"",signupCred:{username:"",password:"",fullname:"",email:"",confirm:""},isShowPassword:!1},e.onSignUp=function(){var t=Object(b.a)(d.a.mark((function t(r){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.username,a=r.password,c=r.fullname,s=r.email,t.prev=1,t.next=4,e.props.signup({username:n,password:a,fullname:c,email:s});case 4:e.setState((function(e){return{signupCred:Object(j.a)(Object(j.a)({},e.signupCred),{},{password:"",confirm:"",username:"",fullname:"",email:"signupCred"})}})),e.props.history.push("/board"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.setState({msg:"Try again"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),e.onTogglePassword=function(){e.setState((function(t){return Object(j.a)(Object(j.a)({},t),{},{isShowPassword:!e.state.isShowPassword})}))},e.validate=function(t){e.setState({signupCred:t});var r={};return t.username||(r.username="Required"),t.fullname||(r.fullname="Required"),t.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(t.email)||(r.email="Invalid email address"):r.email="Required",t.password!==t.confirm&&(r.confirm="Password don`t match!!! "),t.confirm||(r.email="Required"),r},e.onGetRandomPassword=function(t){t.preventDefault();var r=R.getRandomPassword();e.setState((function(e){return{signupCred:Object(j.a)(Object(j.a)({},e.signupCred),{},{password:r,confirm:r})}}))},e}return Object(h.a)(r,[{key:"render",value:function(){var e=this,t=this.state.isShowPassword,r=t?"text":"password";return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"main-login-signup-container",children:[Object(n.jsx)(Fe,{}),Object(n.jsxs)("div",{className:"inner-login-signup-container",children:[Object(n.jsx)("h2",{children:"Let's get started!"}),Object(n.jsx)("h3",{children:"Sign up"}),Object(n.jsx)(qe.d,{enableReinitialize:!0,initialValues:this.state.signupCred,validate:this.validate,onSubmit:this.onSignUp,children:function(){return Object(n.jsxs)(qe.c,{className:"sunday-form signup-fields-arranegment",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(qe.b,{placeholder:"Username",autoFocus:!0,type:"text",name:"username",autoComplete:"off",required:!0,as:Te.a}),Object(n.jsx)(qe.a,{name:"fullname",className:"err-msg"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(qe.b,{required:!0,placeholder:"Fullname",type:"text",name:"fullname",as:Te.a}),Object(n.jsx)(qe.a,{name:"fullname",className:"err-msg"})]}),Object(n.jsxs)("div",{className:"password-container",children:[Object(n.jsxs)("div",{className:"relative password-inner-container",children:[Object(n.jsx)(qe.b,{placeholder:"Password",type:r,name:"password",as:Te.a}),Object(n.jsx)(qe.a,{name:"password",className:"err-msg"}),!t&&Object(n.jsx)(He.a,{onClick:function(){return e.onTogglePassword()}}),t&&Object(n.jsx)(ze.a,{onClick:function(){return e.onTogglePassword()}})]}),Object(n.jsxs)("div",{className:"password-inner-container",children:[Object(n.jsx)(qe.b,{placeholder:"Confirm password",type:"password",name:"confirm",as:Te.a}),Object(n.jsx)(qe.a,{name:"confirm",className:"err-msg"})]}),Object(n.jsx)("button",{onClick:function(t){return e.onGetRandomPassword(t)},children:"Get strong password"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)(qe.b,{placeholder:"Email",type:"email",name:"email",as:Te.a}),Object(n.jsx)(qe.a,{name:"email",className:"err-msg"})]}),Object(n.jsx)("button",{className:"login-signup-btn",type:"submit",children:"Sign up"})]})}}),Object(n.jsxs)(o.b,{to:"/login",children:["Already have an account? ",Object(n.jsx)("b",{children:"Log in"})]})]})]})})}}]),r}(a.Component),Ke={signup:function(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.signup(e);case 3:return n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},Ze=Object(v.b)((function(e){return{}}),Ke)(We),Ye=r(12),Ve=r.p+"static/media/sunday-icon.4e66f469.svg",Xe=r(250),$e=r.n(Xe),Qe=r(251),et=r.n(Qe),tt=r(41),rt=r(506),nt=r(513),at=r(249),ct=r.n(at),st=r(14),it=r.n(st),ot=r(248),ut=r.n(ot),lt=r(247),dt=r.n(lt),bt=Object(rt.a)((function(e){return{typography:{padding:e.spacing(2)}}}));function pt(e){var t=e.notifications,r=e.onCleanNotifications,a=(e.onUpdateNotifications,bt(),c.a.useState(null)),s=Object(Ye.a)(a,2),i=s[0],o=s[1],u=Boolean(i),l=u?"notifications-popover":void 0;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"relative",children:[t&&Object(n.jsx)("span",{className:"count-notifications",children:t.length}),Object(n.jsx)(dt.a,{"data-tip":!0,"data-for":"notifications","aria-describedby":l,onClick:function(e){o(e.currentTarget)}})]}),Object(n.jsx)(nt.a,{id:l,open:u,anchorEl:i,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(n.jsxs)("section",{className:"user-notifications",children:[Object(n.jsx)("header",{className:"flex space-between align-center",children:(null===t||void 0===t?void 0:t.length)?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h1",{children:"Notifications"}),Object(n.jsx)(ut.a,{onClick:r})]}):Object(n.jsx)("h1",{children:"You have no notifications"})}),(null===t||void 0===t?void 0:t.length)>0&&t.map((function(e,t){return Object(n.jsxs)("div",{className:"notification-details",children:[Object(n.jsxs)("div",{className:"flex",children:[e.byMember.imgUrl?Object(n.jsx)("img",{src:e.byMember.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("span",{className:"user-thumbnail",children:R.getNameInitials(e.byMember.fullname)}),Object(n.jsx)("p",{children:null===e||void 0===e?void 0:e.notificationTxt})]}),Object(n.jsxs)("div",{className:"time flex",children:[" ",Object(n.jsx)(ct.a,{}),Object(n.jsx)("h4",{children:it()(e.createdAt).from(Date.now())})]})]},t)}))]})}),Object(n.jsx)(tt.a,{className:"sunday-tooltip",id:"notifications",place:"right",effect:"solid",children:"Notifications"})]})}var jt=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isShowUserNotification:!1},e.onToggleUserNotifications=function(){e.setState({isShowUserNotification:!e.state.isShowUserNotification})},e}return Object(h.a)(r,[{key:"render",value:function(){var e,t=this.props,r=t.onLogOut,a=t.user,c=t.onCleanNotifications,s=(t.onUpdateNotifications,null===(e=a.notifications)||void 0===e?void 0:e.filter((function(e){return!e.isRead})));return Object(n.jsxs)("div",{className:"main-sidebar-container flex column relative",children:[Object(n.jsxs)("div",{className:"main-side-bar-top flex column align-center",children:[Object(n.jsx)(o.b,{to:"/",children:Object(n.jsx)("img",{className:"sunday-icon",src:Ve,alt:"sunday-logo-icon"})}),Object(n.jsx)(pt,{notifications:s,onCleanNotifications:c}),Object(n.jsx)(o.b,{to:"/user/".concat(a._id,"/general"),children:Object(n.jsx)("div",{className:"greet-user",children:Object(n.jsxs)("span",{children:["Hello ",a.fullname]})})})]}),Object(n.jsxs)("div",{className:"main-side-bar-bottom flex column align-center",children:[Object(n.jsx)(o.b,{to:"/user/".concat(a._id,"/general"),children:Object(n.jsx)($e.a,{"data-tip":!0,"data-for":"myAccount"})}),Object(n.jsx)(et.a,{"data-tip":!0,"data-for":"logOut",onClick:r})]}),Object(n.jsx)(tt.a,{className:"sunday-tooltip",id:"myAccount",place:"right",effect:"solid",children:"My Account"}),Object(n.jsx)(tt.a,{className:"sunday-tooltip",id:"logOut",place:"right",effect:"solid",children:"Log Out"})]})}}]),r}(a.Component),ft=r(75),ht=r.n(ft),mt=r(92),Ot=r.n(mt),vt=function(e){var t=e.onSetFilter,r=e.placeHolder;return Object(n.jsxs)("section",{className:"search-field",children:[Object(n.jsx)(Ot.a,{}),Object(n.jsx)("input",{id:"standard-basic",label:"Search",name:"txt",onChange:function(e){var r=e.target.value;t(r)},autoComplete:"off",placeholder:"Search ".concat(r)})]})},gt=r(253),xt=r.n(gt),yt=r(508),wt=r(66),Nt=r.n(wt),kt=r(252),Ct=r.n(kt),St=r(507),Dt=Object(rt.a)((function(e){var t;return{wrapper:{position:"fixed",top:0,bottom:0,right:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.4)",zIndex:9999},box:(t={backgroundColor:"#fff",textAlign:"center",position:"absolute",width:"90%",padding:"2px"},Object(p.a)(t,e.breakpoints.up("sm"),{width:"500px"}),Object(p.a)(t,"left","50%"),Object(p.a)(t,"top","50%"),Object(p.a)(t,"transform","translate(-50%, -50%)"),Object(p.a)(t,"color","#323338"),Object(p.a)(t,"boxShadow","0 4px 17px 6px rgba(0, 0, 0, 0.1)"),Object(p.a)(t,"& .close-modal-section",{textAlign:"left"}),t),content:{padding:"1rem"}}})),_t=function(e){var t=e.open,r=void 0!==t&&t,a=e.withCloseBtn,c=void 0===a||a,s=e.children,o=e.onClose,u=Dt(c),l=document.getElementById("modal-root"),d=Object(n.jsx)("div",{className:u.wrapper,onClick:function(e){e.stopPropagation(),o()},children:Object(n.jsxs)("div",{className:u.box,children:[c&&Object(n.jsx)("div",{className:"close-modal-section",children:Object(n.jsx)(St.a,{onClick:o,children:Object(n.jsx)(Ct.a,{})})}),Object(n.jsx)("div",{className:u.content,children:s})]})});return r?i.a.createPortal(d,l):null},At=Object(rt.a)((function(e){return{deleteBtn:{backgroundColor:"#fb275d",boxShadow:"none",color:"#fff","&:hover":{backgroundColor:"#ff4c79",boxShadow:"none"}}}})),Mt=function(e){var t=e.title,r=e.type,a=e.id,c=e.arg,s=e.close,i=e.onApprove,o=e.isInDeleteMode,u=e.isDeleteLabel?"This label is active , are you sure you want to delete?":"Are you sure You want to delete this ".concat(r,"?"),l=At();return Object(n.jsxs)(_t,{open:o,onClose:s,children:[Object(n.jsx)("h3",{children:u}),Object(n.jsx)("p",{children:"(".concat(t,")")}),Object(n.jsx)("div",{className:"btn-confirm",children:Object(n.jsx)(yt.a,{onClick:function(){i(a,c)},variant:"contained",className:l.deleteBtn,startIcon:Object(n.jsx)(Nt.a,{}),children:"Delete"})})]})},Ut=function(e){var t=e.board,r=e.onDeleteBoard,c=e.user,s=e.idx,i=Object(a.useState)(!1),u=Object(Ye.a)(i,2),l=u[0],d=u[1],b=Object(v.d)((function(e){var t;return null===(t=e.boardReducer.board)||void 0===t?void 0:t._id}));return t&&b?Object(n.jsxs)("div",{className:"board-sidebar-item ".concat(t._id===b?"selected":""),children:[Object(n.jsx)(o.b,{to:"/board/".concat(t._id),children:t.title}),c._id===t.createdBy&&Object(n.jsx)(Nt.a,{onClick:function(){return d(!0)}}),Object(n.jsx)(Mt,{id:t._id,arg:s,onApprove:r,isInDeleteMode:l,close:function(){return d(!1)},title:t.title,type:"Board"})]}):null},It=r(89),Rt=r.n(It),Tt=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={isAddBoard:!1,boardTitle:"",isDelete:!1,txt:""},e.onInputChange=function(t){var r=t.target.value;e.setState({boardTitle:r})},e.onAddBoard=function(t){t.preventDefault(),e.state.boardTitle&&(e.props.onAddBoard(e.state.boardTitle),e.setState({isAddBoard:!1,boardTitle:""}))},e.toggleEditBoard=function(){e.setState({isAddBoard:!e.state.isAddBoard})},e}return Object(h.a)(r,[{key:"render",value:function(){var e=this.props,t=e.boards,r=e.onDeleteBoard,a=e.user,c=e.onSetFilter,s=this.state.boardTitle;return Object(n.jsxs)("section",{className:"board-side-bar",children:[Object(n.jsxs)("div",{className:"main-workspace-title flex",children:[Object(n.jsxs)("span",{className:"letter flex",children:[Object(n.jsx)("span",{children:"M"}),Object(n.jsx)(xt.a,{})]}),Object(n.jsx)("span",{children:"Main workspace"})]}),Object(n.jsxs)("div",{className:"board-sidebar-controlles",children:[Object(n.jsx)(vt,{onSetFilter:c,placeHolder:"boards"}),Object(n.jsx)("span",{className:"board-sidebar-action-btn",onClick:this.toggleEditBoard,children:this.state.isAddBoard?Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(Rt.a,{}),"Close"]}):Object(n.jsxs)(n.Fragment,{children:[" ",Object(n.jsx)(ht.a,{}),"Add"]})}),this.state.isAddBoard&&Object(n.jsx)("form",{onSubmit:this.onAddBoard,children:Object(n.jsx)(Te.a,{placeholder:" Board Name",autoFocus:!0,type:"text",autoComplete:"off",value:s,onChange:this.onInputChange})})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"board-sidebar-title",children:"My boards"}),Object(n.jsxs)("div",{children:[!t.length&&Object(n.jsx)("div",{children:"No results..."}),t.map((function(e,t){return Object(n.jsx)(Ut,{idx:t,user:a,board:e,onDeleteBoard:r},e._id)}))]})]})]})}}]),r}(a.Component),Et=r(510),Bt=(r(343),r(399),r(254)),Lt=function(e){var t=e.closeDatePicker,r=e.changeDates,c=Object(a.useState)({startDate:null,endDate:null}),s=Object(Ye.a)(c,2),i=s[0],o=s[1],u=Object(a.useState)("startDate"),l=Object(Ye.a)(u,2),d=l[0],b=l[1],p=Object(a.useState)(!1),j=Object(Ye.a)(p,2),f=j[0],h=j[1];return Object(a.useEffect)((function(){var e,n,a;(null===(e=i.startDate)||void 0===e?void 0:e._d)&&!(null===(n=i.endDate)||void 0===n?void 0:n._d)&&f&&(r({startDate:null===(a=i.startDate)||void 0===a?void 0:a._d,endDate:null}),h(!1));return d||t(),function(){var e,t,n,a,c,s,o;(null===(e=i.startDate)||void 0===e?void 0:e._d)&&(null===(t=i.endDate)||void 0===t?void 0:t._d)&&r({startDate:null===(n=i.startDate)||void 0===n?void 0:n._d,endDate:null===(a=i.endDate)||void 0===a?void 0:a._d}),!(null===(c=i.startDate)||void 0===c?void 0:c._d)||(null===(s=i.endDate)||void 0===s?void 0:s._d)||d||r({startDate:null===(o=i.startDate)||void 0===o?void 0:o._d,endDate:null})}(),function(){}}),[i,d,f]),Object(n.jsxs)("div",{className:"datePicker",children:[Object(n.jsx)(Bt.DayPickerRangeController,{startDate:i.startDate,endDate:i.endDate,isOutsideRange:function(){return!1},onDatesChange:function(e){var t=e.startDate,r=e.endDate;return o({startDate:t,endDate:r})},focusedInput:d,hideKeyboardShortcutsPanel:!0,onFocusChange:function(e){b(e)}}),Object(n.jsx)("button",{className:"date-btn",onClick:function(){return h(!0)},children:"Set"})]})},Ft=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={title:e.props.children,isEdit:!0},e.handleChange=function(t){console.log(t.currentTarget.textContent);var r=t.currentTarget.textContent;e.setState({title:r})},e.checkKey=function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"Enter"!==r.key&&"blur"!==r.type||(e.setState({isEdit:!1}),n=e.state.title?e.state.title:"New Title",setTimeout((function(){e.setState({isEdit:!0}),e.state.title!==e.props.children&&e.props.onChangeTitle(n)}),200));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(r,[{key:"render",value:function(){var e=this.state,t=e.isEdit;e.title;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{onKeyDown:this.checkKey,className:"editable-element",onBlur:this.checkKey,contentEditable:t,suppressContentEditableWarning:!0,spellCheck:"false",onInput:this.handleChange,children:this.props.children})})}}]),r}(a.Component),Gt=r(509),Pt=function(e){var t=e.onChangeColor;e.groupId;return Object(n.jsx)("div",{className:"edit-colors",children:["#FF6E6E","#fb275d","#FF642E","#037F4C","#00ca72","#61BD4F","#df5e88","#ffcc00","#41EAD4","#e1ccec","#dddddd","#7F5347","#784BD1","#0086C0","#0085ff","#3D315B"].map((function(e){return Object(n.jsx)("span",{onClick:function(){t(e)},style:{backgroundColor:e}},e)}))})};function Jt(e){var t=e.label,r=e.onDeleteLabel,c=e.labelGroup,s=e.setCurrLabel,i=e.isEditLabel,o=e.labelType,u=Object(a.useState)(!1),l=Object(Ye.a)(u,2),d=l[0],b=l[1];return Object(n.jsxs)("div",{className:"labels-menu-item",onClick:function(){return s(t,c,o)},style:{backgroundColor:t.color},children:[t.text,i&&Object(n.jsx)(Nt.a,{className:"opt-icon",onClick:function(e){e.stopPropagation(),t.isActive?b(!0):r(t.id,{labelGroup:c,labelType:o})}}),d&&Object(n.jsx)(Mt,{id:t.id,arg:{labelGroup:c,labelType:o},onApprove:r,close:function(){return b(!1)},isInDeleteMode:d,title:t.text,isDeleteLabel:!0})]})}var qt=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={currLabel:null,isOpen:!1,isAddLabelOpen:!1,isColorPalletteOpen:!1,showAddLabelError:!1,newLabel:{text:"",color:null},isShowOpt:!1,isEditLabel:!1},e.toggleMenu=function(t){var r=e.state.isOpen;e.setState({isOpen:!r,isEditLabel:!1})},e.toggleAddNewLabel=function(){var t=e.state.isAddLabelOpen;e.setState({isAddLabelOpen:!t,newLabel:{text:"",color:null}})},e.toggleAddLabelError=function(){e.setState({showAddLabelError:!0},(function(){setTimeout((function(){e.setState({showAddLabelError:!1})}),1500)}))},e.setCurrLabel=function(t,r,n){e.props.currLabel.text!==t.text?e.setState({currLabel:t},(function(){e.props.onSaveLabel(t,r,n),e.toggleMenu()})):e.toggleMenu()},e.setNewLabelColor=function(t){e.setState({newLabel:Object(j.a)(Object(j.a)({},e.state.newLabel),{},{color:t})})},e.addLabel=function(t){t.preventDefault();var r=e.props,n=r.onAddLabel,a=r.labelGroup,c=e.state.newLabel;c.text&&c.color?(n(c,a),e.toggleAddNewLabel()):e.toggleAddLabelError()},e.handleInput=function(t){var r=t.target,n=r.name,a=r.value,c=e.state.newLabel;c[n]=a,e.setState({newLabel:c})},e.toggleEdit=function(){e.setState({isEditLabel:!e.state.isEditLabel})},e}return Object(h.a)(r,[{key:"componentWillUnmount",value:function(){this.setState({newLabel:{text:"",color:null}})}},{key:"render",value:function(){var e=this,t=this.props,r=t.labels,a=t.currLabel,c=t.onDeleteLabel,s=t.labelGroup,i=t.labelType,o=t.isLast,u=this.state,l=u.isAddLabelOpen,d=u.isOpen,b=u.showAddLabelError,p=u.newLabel,j=u.isEditLabel;return Object(n.jsxs)("div",{className:"labels-menu-container",children:[Object(n.jsxs)("div",{className:"labels-menu-chosen-item",onClick:this.toggleMenu,style:{backgroundColor:a.color},children:[a.text,Object(n.jsx)("span",{className:"fold"})]}),d&&Object(n.jsx)(Gt.a,{onClickAway:this.toggleMenu,children:Object(n.jsxs)("div",{className:"labels-menu-floating-container".concat(o?" last":""),children:[Object(n.jsxs)("div",{className:"labels-grid",children:[r.map((function(t,r){return Object(n.jsx)(Jt,{isEditLabel:j,label:t,setCurrLabel:e.setCurrLabel,labelType:i,labelGroup:s,toggleMenu:e.toggleMenu,onDeleteLabel:c},r)})),Object(n.jsxs)("div",{className:"labels-menu-item new-label",onClick:this.toggleAddNewLabel,children:["Add ",this.props.labelType]})]}),l&&Object(n.jsxs)("div",{className:"add-new-label-container",children:[Object(n.jsxs)("div",{className:"flex space-between",children:[Object(n.jsx)("span",{onClick:this.toggleAddNewLabel,children:"Cancel"}),Object(n.jsx)("span",{onClick:this.addLabel,children:"Save"})]}),Object(n.jsxs)("form",{onSubmit:this.addLabel,className:"relative",children:[Object(n.jsx)("span",{style:{backgroundColor:"".concat(p.color?p.color:"")},className:"color-preview"}),Object(n.jsx)(Te.a,{name:"text",autoComplete:"off",placeholder:b?"Please enter label + color":"Enter label",onChange:this.handleInput})]}),Object(n.jsx)(Pt,{onChangeColor:this.setNewLabelColor})]}),Object(n.jsx)(yt.a,{className:"edit-label-btn",onClick:this.toggleEdit,children:j?"Done":"Edit"})]})})]})}}]),r}(a.Component),Ht=function(){return Object(n.jsx)("svg",{id:"Capa_1",enableBackground:"new 0 0 511.072 511.072",height:"512",viewBox:"0 0 511.072 511.072",width:"512",xmlns:"http://www.w3.org/2000/svg",children:Object(n.jsx)("g",{id:"Speech_Bubble_48_",children:Object(n.jsx)("g",{children:Object(n.jsx)("path",{d:"m74.39 480.536h-36.213l25.607-25.607c13.807-13.807 22.429-31.765 24.747-51.246-36.029-23.644-62.375-54.751-76.478-90.425-14.093-35.647-15.864-74.888-5.121-113.482 12.89-46.309 43.123-88.518 85.128-118.853 45.646-32.963 102.47-50.387 164.33-50.387 77.927 0 143.611 22.389 189.948 64.745 41.744 38.159 64.734 89.63 64.734 144.933 0 26.868-5.471 53.011-16.26 77.703-11.165 25.551-27.514 48.302-48.593 67.619-46.399 42.523-112.042 65-189.83 65-28.877 0-59.01-3.855-85.913-10.929-25.465 26.123-59.972 40.929-96.086 40.929zm182-420c-124.039 0-200.15 73.973-220.557 147.285-19.284 69.28 9.143 134.743 76.043 175.115l7.475 4.511-.23 8.727c-.456 17.274-4.574 33.912-11.945 48.952 17.949-6.073 34.236-17.083 46.99-32.151l6.342-7.493 9.405 2.813c26.393 7.894 57.104 12.241 86.477 12.241 154.372 0 224.682-93.473 224.682-180.322 0-46.776-19.524-90.384-54.976-122.79-40.713-37.216-99.397-56.888-169.706-56.888z"})})})})},zt=r(255),Wt=r.n(zt),Kt=function(e){var t=Object(a.useState)(null),r=Object(Ye.a)(t,2),n=r[0],c=r[1],s=Object(a.useState)(!0),i=Object(Ye.a)(s,2),o=i[0],u=i[1];function l(){return(l=Object(b.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.getUserById(e);case 2:r=t.sent,o&&c(r);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return function(){l.apply(this,arguments)}(),function(){return u(!1)}}),[]),n},Zt=function(e){var t=e.member,r=e.onUpdateMembers,a=e.type;return t&&Object(n.jsxs)("div",{className:"flex align-center space-between member-row",children:[Object(n.jsx)(o.b,{to:"/user/".concat(t._id,"/general"),children:Object(n.jsxs)("div",{className:"flex align-center space-between",children:[t.imgUrl?Object(n.jsx)("img",{src:t.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("span",{className:"user-thumbnail",children:R.getNameInitials(t.fullname)}),Object(n.jsx)("span",{className:"modal-user-full-name",children:t.fullname})]})}),"remove"===a?Object(n.jsx)(Rt.a,{onClick:function(e){e.stopPropagation(),r(t,"remove")},className:"remove-icon"}):Object(n.jsx)(ht.a,{onClick:function(e){e.stopPropagation(),r(t,"add")},className:"remove-icon"})]})},Yt=function(e){var t=e.members,r=e.onUpdateMembers,a=e.type;return Object(n.jsx)(n.Fragment,{children:t.map((function(e){return Object(n.jsx)(Zt,{member:e,onUpdateMembers:r,type:a},e._id)}))})};function Vt(e){var t=e.availableBoardMembers,r=e.cardMembers,a=e.changeTaskMembers,c=e.onCloseModal;return Object(n.jsx)(Gt.a,{onClickAway:c,children:Object(n.jsxs)("div",{className:"members-modal-basic",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{className:"members-modal-task-members-title",children:"Task Members"}),Object(n.jsx)(Yt,{members:r,onUpdateMembers:a,type:"remove"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Board Members"}),Object(n.jsx)(Yt,{members:t,onUpdateMembers:a,type:"add"})]})]})})}var Xt=r(55),$t=function(e){var t,r=e.startDate,a=e.endDate,c=e.groupColor,s=e.onOpenPicker,i=e.createdAt,o=new Date(r).getMonth(),u=new Date(r).getDate(),l=R.getNameOfMonth(o)+" "+u,d=new Date(a).getMonth(),b=new Date(a).getDate(),p=R.getNameOfMonth(d)+" "+b,j=a?l+" - "+p:l;return r||a?t=function(e,t){var r=new Date(e).getTime(),n=(new Date).getTime(),a=new Date(t).getTime();if(e&&t&&r>n)return 0;if(!t&&e&&r>n){var c=n-i;return Math.round(c/(r-i)*100)}if(!t&&e&&r<n)return 100;var s=Math.abs(n-r),o=Math.abs(a-r);return Math.round(100*s/o)}(r,a):(j="Choose Date",t=0),Object(n.jsx)("div",{onClick:s,className:"progressbar-container",style:{backgroundColor:"rgb(121 115 115 / 90%)"},children:Object(n.jsx)("div",{className:"inner-progressbar",style:{backgroundColor:c,width:t+"%"},children:Object(n.jsx)("span",{style:{color:"#c7c1c1"===c?" #333333":"#f9f9f9"},children:j})})})};function Qt(e){var t=e.isFilterDisplay,r=e.member,a=e.backgroundColor;return Object(n.jsxs)(n.Fragment,{children:[r&&r.imgUrl?Object(n.jsx)("img",{src:r.imgUrl,className:"user-thumbnail",alt:""}):r&&Object(n.jsx)("h5",{style:{backgroundColor:a},className:"user-thumbnail",children:R.getNameInitials(r.fullname).toUpperCase()}),t&&r&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("span",{children:r.fullname}),Object(n.jsx)(tt.a,{className:"sunday-tooltip",id:r._id,place:"bottom",effect:"solid",children:"Member is ".concat(r.fullname)})]})]})}var er=function(e){var t=e.idx,r=e.group,c=e.card,s=Object(a.useState)(!1),i=Object(Ye.a)(s,2),u=i[0],l=i[1],p=Object(a.useState)(!1),f=Object(Ye.a)(p,2),h=f[0],m=f[1],O=Object(a.useState)(!1),g=Object(Ye.a)(O,2),x=g[0],y=g[1],w=Object(v.d)((function(e){return e.boardReducer.boardMembers})),N=Object(v.c)(),k=Object(v.d)((function(e){return e.boardReducer.board})),C=Object(v.d)((function(e){return e.userReducer.loggedInUser})),S=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Ue({board:k,groupId:r.id,cardToUpdate:c,cardTitle:t,user:C}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(d.a.mark((function e(t,r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(Me({groupId:r.id,board:k,cardId:t,user:C}));case 2:N(Y("Card Successfully Removed"));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),_=function(e,t){N(function(e,t,r,n,a,c){return function(){var s=Object(b.a)(d.a.mark((function s(i){var o,u,l,b;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,ee.updateTaskMembers(e,t,r,n,a,c);case 3:if(o=s.sent,u=o.boardToUpdate,l=o.notificationTxt,Ne(i,u),!l){s.next=11;break}return s.next=9,E.updateNotifications(o);case 9:b=s.sent,I.emit("onUpdateUser",b);case 11:s.next=15;break;case 13:s.prev=13,s.t0=s.catch(0);case 15:case"end":return s.stop()}}),s,null,[[0,13]])})));return function(e){return s.apply(this,arguments)}}()}(e,t,k,c,r.id,C))},A=function(e){e.startDate&&e.endDate?N(Re(e,k,r.id,c,C)):e.endDate||N(Re(e,k,r.id,c,C)),T()},M=function(e,t){var n,a,s=t.labelGroup,i=t.labelType;n="priority"===i?{text:"Set priority",color:"#cccccc",id:Math.random()}:{text:"No status yet",color:"#cccccc",id:Math.random()},N((a={board:k,groupId:r.id,labelId:e,labelGroup:s,cardDetails:{cardId:c.id,labelType:i,label:n}},function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.deleteLabel(a);case 3:r=e.sent,Ne(t,r),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),Ne(t,a.board),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))},U=function(e,t,n){var a;N((a={board:k,cardToUpdate:c,groupId:r.id,label:e,labelType:n,user:C,labelGroup:t},function(){var e=Object(b.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.changeCardLabels(a);case 3:r=e.sent,Ne(t,r),e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),Ne(t,a.board),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))},R=function(e,t){N(function(e,t,r,n){return function(){var a=Object(b.a)(d.a.mark((function a(c){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ee.addCardLabel(e,t,r,n);case 3:s=a.sent,c({type:"SET_CURR_BOARD",board:s}),a.next=13;break;case 8:throw a.prev=8,a.t0=a.catch(0),c({type:"SET_CURR_BOARD",board:e}),a.t0;case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(k,r.id,e,t))},T=function(){m(!1)},B=Object(a.useMemo)((function(){var e,t,r=c.dueDate,n=r.endDate,a=r.startDate;if(a&&!n)if(new Date(a)<new Date){if(t=new Date(a)-new Date(c.createdAt),(e=Math.ceil(t/864e5))<=0)return"--";e=Math.abs(e)}else t=new Date(a)-new Date,e=Math.abs(Math.ceil(t/864e5));else n||a?(t=new Date(a)-new Date(n),e=Math.abs(Math.ceil(t/864e5))):e="--";return e}),[c.dueDate]),L=Object(a.useMemo)((function(){var e=[],t=[];return w.forEach((function(r){c.members.find((function(e){return e===r._id}))?t.push(r):e.push(r)})),{availableBoardMembers:e,cardMembers:t}}),[w,c.members]),F=L.availableBoardMembers,G=L.cardMembers,P=G.length>2?G.slice(0,2):G;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Xt.b,{draggableId:c.id,index:t,children:function(e,t){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"card-preview"},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[Object(n.jsx)("div",{className:"card-color-div card-cell-small",style:{backgroundColor:r.style.color}}),Object(n.jsxs)("div",{className:"card-title",children:[Object(n.jsx)(Ft,{onChangeTitle:S,children:c.title}),Object(n.jsx)(Et.a,{onClick:function(){return y(!0)}})]}),Object(n.jsx)("div",{className:"card-members-cell",children:Object(n.jsx)(o.b,{to:"/board/".concat(k._id,"/card/").concat(c.id),children:Object(n.jsx)(Ht,{})})}),r.cardOrder.map((function(e,t){if(t===r.cardOrder.length-1)var a="status"===r.cardOrder[t]||"priority"===r.cardOrder[t];switch(e){case"members":return Object(n.jsxs)("div",{className:"card-members relative card-members-cell",onClick:function(){return l(!u)},children:[c.members.length>=3&&Object(n.jsx)("span",{className:"members-count-badge",children:"+".concat(c.members.length-2)}),Object(n.jsxs)("div",{className:"flex justify-center align-center ".concat(c.members.length>=2?"multiple-members-display":""),children:[!P.length&&Object(n.jsx)(Wt.a,{className:"member-empty-avatar"}),P.map((function(e){return Object(n.jsx)(Qt,{backgroundColor:r.style.backgroundColor,member:e},e._id)}))]}),u&&Object(n.jsx)(Vt,{availableBoardMembers:F,cardMembers:G,changeTaskMembers:_,onCloseModal:function(){return l(!u)}})]},e);case"status":return Object(n.jsx)("div",{className:"card-status card-cell",children:Object(n.jsx)(qt,{isLast:a,onDeleteLabel:M,onAddLabel:R,enableAdding:!0,onSaveLabel:U,labelType:"status",labelGroup:"statuses",labels:r.statuses,currLabel:c.status})},e);case"date":return Object(n.jsx)(Gt.a,{onClickAway:T,children:Object(n.jsxs)("div",{className:"dateRange-container card-cell",onClick:function(){return m(!0)},children:[Object(n.jsx)($t,{startDate:c.dueDate.startDate,endDate:c.dueDate.endDate,status:c.status,createdAt:c.createdAt,groupColor:r.style.color}),h&&Object(n.jsx)(Lt,{changeDates:A,closeDatePicker:T,cardId:c.id})]})},e);case"workingDays":return Object(n.jsx)("div",{className:"card-workingDays card-cell",children:B},e);case"priority":return Object(n.jsx)("div",{className:"card-priority card-cell",children:Object(n.jsx)(qt,{isLast:a,onDeleteLabel:M,onAddLabel:R,onSaveLabel:U,enableAdding:!1,labelType:"priority",labelGroup:"priorities",labels:r.priorities,currLabel:c.priority})},e)}})),Object(n.jsx)("div",{className:"card-closer card-cell-small"})]}))}}),x&&Object(n.jsx)(Mt,{id:c.id,arg:r,onApprove:D,close:function(){return y(!1)},isInDeleteMode:x,title:c.title,type:"Card"})]})},tr=r(514),rr=r(515),nr=r(511),ar=r(256),cr=r.n(ar),sr=function(e){var t=e.onSetGroupSort,r=Object(a.useState)(null),c=Object(Ye.a)(r,2),s=c[0],i=c[1],o=Boolean(s),u=o?"group-sort-modal-popover":void 0;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(rr.a,{"aria-describedby":u,onClick:function(e){i(e.currentTarget)},children:[Object(n.jsx)(nr.a,{children:Object(n.jsx)(cr.a,{className:"group-modal-icon"})}),Object(n.jsx)("span",{children:"Sort By"})]}),Object(n.jsx)(nt.a,{id:u,open:o,anchorEl:s,onClose:function(){i(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(n.jsxs)(tr.a,{className:"group-sort-modal",children:[Object(n.jsx)(rr.a,{onClick:function(){return t("date")},children:Object(n.jsx)(nr.a,{children:Object(n.jsx)("span",{children:"Date"})})}),Object(n.jsx)(rr.a,{onClick:function(){return t("name")},children:Object(n.jsx)(nr.a,{children:Object(n.jsx)("span",{children:"Name"})})})]})})]})},ir=r(257),or=r.n(ir),ur=function(e){var t=e.onChangeColor,r=e.onCloseAll,c=Object(a.useState)(null),s=Object(Ye.a)(c,2),i=s[0],o=s[1],u=function(){o(null)},l=Boolean(i),d=l?"group-colors-popover":void 0;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(rr.a,{"aria-describedby":d,onClick:function(e){o(e.currentTarget)},children:[Object(n.jsx)(nr.a,{children:Object(n.jsx)(or.a,{className:"btn-change-group-color"})}),Object(n.jsx)("span",{children:" Change Group Color"})]}),Object(n.jsx)(nt.a,{id:d,open:l,anchorEl:i,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(n.jsx)(Gt.a,{onClickAway:r,children:Object(n.jsx)("div",{className:"group-colors-container",children:Object(n.jsx)(Pt,{onClose:u,onChangeColor:t})})})})]})},lr=function(e){var t=e.groupId,r=e.onSetGroupSort,a=e.onShowConfirmModal,c=e.id,s=e.handleClose,i=e.anchorEl,o=e.open,u=Object(v.c)(),l=Object(v.d)((function(e){return e.boardReducer.board})),p=function(){var e=Object(b.a)(d.a.mark((function e(r){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(Y("Group color Successfully Change")),e.next=3,u(Ie(r,l,t));case 3:s();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)(nt.a,{id:c,open:o,anchorEl:i,onClose:s,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(n.jsxs)(tr.a,{className:"group-menu-container",children:[Object(n.jsx)(ur,{onCloseAll:s,onChangeColor:p}),Object(n.jsxs)(rr.a,{onClick:a,children:[Object(n.jsx)(nr.a,{children:Object(n.jsx)(Nt.a,{})}),Object(n.jsx)("span",{children:"Delete Group"})]}),Object(n.jsx)(sr,{onSetGroupSort:r})]})})})},dr=r(148),br=r.n(dr),pr=r(258),jr=r.n(pr),fr=function(e){var t=e.group,r=e.color,c=e.onSetGroupSort,s=e.provided,i=e.onChangeTitle,o=e.onRemoveGroup,u=Object(a.useState)(!1),l=Object(Ye.a)(u,2),d=l[0],b=l[1],p=Object(a.useState)(!1),f=Object(Ye.a)(p,2),h=f[0],m=f[1],O=Object(a.useState)(null),v=Object(Ye.a)(O,2),g=v[0],x=v[1],y=Boolean(g),w=y?"group-menu-popover":void 0;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(jr.a,{onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},"aria-describedby":w,onClick:function(e){x(e.currentTarget)},className:"group-menu-icon",style:{backgroundColor:h?"#f9f9f9":r,color:h?r:"#f9f9f9",border:"1px solid ".concat(r)}}),Object(n.jsxs)("div",{className:"group-header",children:[Object(n.jsx)(lr,{id:w,anchorEl:g,open:y,groupId:t.id,onSetGroupSort:c,handleClose:function(){x(null)},onShowConfirmModal:function(){return b(!0)},setIsInDeleteMode:b,color:r}),d&&Object(n.jsx)(Mt,{id:t,onApprove:o,isInDeleteMode:d,close:function(){return b(!1)},title:t.title,type:"Group"}),Object(n.jsx)("div",Object(j.a)(Object(j.a)({className:"drag-icon"},s.dragHandleProps),{},{children:Object(n.jsx)(br.a,{})})),Object(n.jsx)("h2",{className:"group-header-title",style:{color:r},children:Object(n.jsx)(Ft,{onChangeTitle:i,children:t.title})}),Object(n.jsx)(Xt.c,{droppableId:"group-".concat(t.id),type:"group-header",direction:"horizontal",children:function(e){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({className:"droppable-group-header",ref:e.innerRef},e.droppableProps),{},{children:[t.cardOrder.map((function(e,r){return Object(n.jsx)(Xt.b,{draggableId:e+"-"+t.id,index:r,children:function(t,r){return function(e,t,r){switch(e){case"members":return Object(n.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"card-members-cell ".concat(r.isDragging?"group-header-drag":"")},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(n.jsx)("h4",{children:"Members"})}));case"date":return Object(n.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"card-cell ".concat(r.isDragging?"group-header-drag":"")},t.dragHandleProps),t.draggableProps),{},{ref:t.innerRef,children:Object(n.jsx)("h4",{children:"Date range"})}));case"workingDays":return Object(n.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"card-cell ".concat(r.isDragging?"group-header-drag":"")},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(n.jsx)("h4",{children:"Working Days"})}));case"priority":return Object(n.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"card-cell ".concat(r.isDragging?"group-header-drag":"")},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(n.jsx)("h4",{children:"Priority"})}));case"status":return Object(n.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"card-cell ".concat(r.isDragging?"group-header-drag":"")},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(n.jsx)("h4",{children:"Status"})}))}}(e,t,r)}},e)})),e.placeholder]}))}})]})]})},hr=function(e){var t=e.onAddCard,r=e.group,c=e.onChangeGroupTitle,s=e.onDrag,i=e.onDeleteCard,o=e.onRemoveGroup,u=e.idx,l=Object(a.useState)(""),d=Object(Ye.a)(l,2),b=d[0],p=d[1],f=Object(a.useState)("+ Add"),h=Object(Ye.a)(f,2),m=h[0],O=h[1],g=Object(a.useState)(""),x=Object(Ye.a)(g,2),y=x[0],w=x[1],N=Object(v.d)((function(e){return e.boardReducer.isScroll})),k=Object(v.c)(),C=Object(a.useRef)(null);Object(a.useEffect)((function(){return function(){clearTimeout(C.current)}}),[]);var S=function(e){var t=e.target.value;p((function(){return t}))},D=function(e){if(e.preventDefault(),!b||!b.replace(/\s/g,"").length)return O((function(){return"Activity required"})),p((function(){return""})),void setTimeout((function(){return O((function(){return"+Add Activity"}))}),1e3);t(b,r.id),p((function(){return""}))},_=function(e){c(e,r.id)},A=function(){clearTimeout(C.current),N||k({type:"GROUP_SCROLL",isScroll:!0}),C.current=setTimeout((function(){k({type:"GROUP_SCROLL",isScroll:!1})}),200)},M=Object(a.useMemo)((function(){if(s)return r;var e,t=JSON.parse(JSON.stringify(r));return y&&!s&&(e="name"===y?ee.sortByTitle(t.cards):ee.sortCardByDate(t.cards),t.cards=e),t}),[y,r,s]),U=Object(a.useMemo)((function(){var e=M,t=e.cards.reduce((function(e,t){var r=t.status.color,n=t.status.text;return e[n]=e[n]?{color:r,count:e[t.status.text].count+1}:{color:r,count:1},e}),{});return Object.keys(t).forEach((function(r){t[r].count=Math.round(t[r].count/e.cards.length*100)})),t}),[M]),I=M.style.color;return Object(n.jsx)(Xt.b,{draggableId:M.id,index:u,children:function(e){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({className:"group-container flex column",onScroll:A},e.draggableProps),{},{ref:e.innerRef,children:[Object(n.jsx)(fr,{color:I,onSetGroupSort:function(e){return w(e)},onRemoveGroup:o,group:M,provided:e,onChangeTitle:_}),Object(n.jsx)(Xt.c,{droppableId:M.id,isCombineEnabled:!0,type:"card",children:function(e){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"group-droppable"},e.dragHandleProps),e.droppableProps),{},{ref:e.innerRef,children:[M.cards.map((function(e,t){return Object(n.jsx)(er,{card:e,idx:t,group:M,onDeleteCard:i},e.id)})),e.placeholder]}))}}),Object(n.jsxs)("div",{className:"group-bottom-section-input",children:[Object(n.jsx)("div",{style:{backgroundColor:"".concat(I,"66")}}),Object(n.jsxs)("form",{onSubmit:D,children:[Object(n.jsx)("input",{className:"add-card-input",type:"text",placeholder:m,name:"activity",autoComplete:"off",value:b,onChange:S}),Object(n.jsx)("button",{type:"submit",className:"add-card-btn",children:"Add"})]}),Object(n.jsx)("div",{style:{backgroundColor:"#E6E9EF"}})]}),Object(n.jsx)("div",{className:"group-bottom-section-utils",children:Object(n.jsx)("div",{className:"progress-status",children:Object.keys(U).map((function(e,t){var a=R.makeId();return Object(n.jsx)("div",{style:{width:U[e].count+"%",background:U[e].color},"data-tip":!0,"data-for":a,children:Object(n.jsx)(tt.a,{className:"sunday-tooltip",id:a,place:"bottom",effect:"solid",children:Object(n.jsx)("span",{className:"tool-tip-txt",children:"".concat(e," ").concat(Math.floor(U[e].count),"% ").concat(Math.ceil(U[e].count*r.cards.length/100),"/").concat(r.cards.length)})})},t)}))})})]}))}})},mr=r(261),Or=r.n(mr);function vr(e){var t=e.labels,r=e.onSetFilterLabels,a=e.content;return Object(n.jsx)("div",{children:Object.keys(t).map((function(e,c){return Object(n.jsxs)("div",{"data-tip":!0,"data-for":"".concat(a).concat(e),className:"item ".concat(t[e].isSelect?"selected":""),onClick:function(t){return r(a,e)},children:[Object(n.jsx)("span",{className:"status-circle",style:{background:t[e].color}}),Object(n.jsx)("span",{children:e}),Object(n.jsx)(tt.a,{className:"sunday-tooltip",id:"".concat(a).concat(e),place:"bottom",effect:"solid",children:"".concat(a.charAt(0).toUpperCase()+a.substring(1)," is ").concat(e)})]},c)}))})}var gr=r(259),xr=r.n(gr),yr=r(260),wr=r.n(yr),Nr=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={filterBy:{txt:"",membersId:[],status:[],priority:[],sortBy:"",statusesForDisplay:null,priorityForDisplay:null},isShowMenuFilter:!1,isMobileFiltersOpen:!1},e.handelChange=function(t){var r=t.target.value,n=Object(j.a)({},e.state.filterBy);n[t.target.name]=r,e.setState({filterBy:n},(function(){return e.props.onSetFilter(e.state.filterBy)}))},e.cleanInput=function(){var t=Object(j.a)({},e.state.filterBy);t.txt="",e.setState({filterBy:t},(function(){return e.props.onSetFilter(Object(j.a)({},e.state.filterBy))}))},e.onCloseFilterMenu=function(){e.setState({isShowMenuFilter:!e.state.isShowMenuFilter})},e.onSetFilterLabels=function(t,r){var n=Object(j.a)({},e.state.filterBy);if(n[t].includes(r)){var a=n[t].filter((function(e){return e!==r}));n[t]=a}else n[t]=[].concat(Object(g.a)(n[t]),[r]);var c=Object(j.a)({},e.state.statusesForDisplay),s=Object(j.a)({},e.state.priorityForDisplay);"status"===t&&(c[r].isSelect=!e.state.statusesForDisplay[r].isSelect),"priority"===t&&(s[r].isSelect=!e.state.priorityForDisplay[r].isSelect),e.setState({filterBy:n,statusesForDisplay:c,priorityForDisplay:s},(function(){return e.props.onSetFilter(Object(j.a)({},e.state.filterBy))}))},e.onSetFilter=function(t){var r=t.target,n=r.value,a=r.name,c=Object(j.a)({},e.state.filterBy);c[a]=n,e.setState({filterBy:c},(function(){return e.props.onSetFilter(Object(j.a)({},e.state.filterBy))}))},e.onGetMember=function(t){var r=Object(j.a)({},e.state.filterBy);if(r.membersId.includes(t)){var n=r.membersId.filter((function(e){return e!==t}));r.membersId=n}else r.membersId=[].concat(Object(g.a)(r.membersId),[t]);e.setState({filterBy:r},(function(){return e.props.onSetFilter(Object(j.a)({},e.state.filterBy))}))},e.toggleMobileFilters=function(){var t=e.state.isMobileFiltersOpen;e.setState({isMobileFiltersOpen:!t})},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){this.setStatuses()}},{key:"componentDidUpdate",value:function(e,t){e.board!==this.props.board&&this.setStatuses()}},{key:"setStatuses",value:function(){for(var e=this,t=this.props.board,r=function(r){a={};var n=0===r?"statuses":"priorities";t.groups.forEach((function(e){var t=e[n].reduce((function(e,t){return e[t.text]={color:t.color,isSelect:!1},e}),{});a=Object(j.a)(Object(j.a)({},a),t)})),0===r?e.setState({statusesForDisplay:a}):e.setState({priorityForDisplay:a})},n=0;n<2;n++){var a;r(n)}}},{key:"render",value:function(){var e=this,t=this.state,r=t.isShowMenuFilter,a=t.statusesForDisplay,s=t.priorityForDisplay,i=t.isMobileFiltersOpen,o=this.props.boardMembers;if(!a||!s)return null;var u=Object(n.jsxs)("section",{className:"board-filter",children:[Object(n.jsxs)("div",{className:"search-field",children:[Object(n.jsx)(Ot.a,{}),Object(n.jsx)("input",{type:"text",placeholder:"Search",name:"txt",value:this.state.filterBy.txt,onChange:this.handelChange,autoComplete:"off"})]}),Object(n.jsxs)("span",{className:"clickable-filter-category",onClick:this.onCloseFilterMenu,children:[Object(n.jsx)(xr.a,{})," Filter"]}),r&&Object(n.jsx)(Gt.a,{onClickAway:function(t){var r;"groups-filter"!==(null===(r=t.target.offsetParent)||void 0===r?void 0:r.className)&&"groups-filter"!==t.target.className&&e.onCloseFilterMenu()},children:Object(n.jsx)("div",{className:"relative",children:Object(n.jsxs)("section",{className:"groups-filter",ref:this.useRef,children:[Object(n.jsx)("div",{className:"status-filter",children:Object(n.jsxs)("div",{className:"option-continer",children:[Object(n.jsx)("h3",{children:"Status"}),Object(n.jsx)(vr,{onSetFilterLabels:this.onSetFilterLabels,content:"status",labels:a})]})}),Object(n.jsx)("div",{className:"member-filter",children:Object(n.jsxs)("div",{className:"option-continer",children:[Object(n.jsx)("h3",{children:"Member"}),o.map((function(t){return Object(n.jsx)("div",{className:"item",onClick:function(){return e.onGetMember(t._id)},"data-tip":!0,"data-for":t._id,children:Object(n.jsx)(Qt,{member:t,isFilterDisplay:!0})},t._id)}))]})}),Object(n.jsx)("div",{className:"priority-filter",children:Object(n.jsxs)("div",{className:"option-continer",children:[Object(n.jsx)("h3",{children:"Priority"}),Object(n.jsx)(vr,{onSetFilterLabels:this.onSetFilterLabels,content:"priority",labels:s})]})})]})})})]});return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("div",{className:"board-filter-wrapper-desktop",children:u}),i&&Object(n.jsx)(Gt.a,{onClickAway:this.toggleMobileFilters,children:Object(n.jsx)("div",{className:"board-filter-wrapper-mobile",children:u})}),Object(n.jsx)("div",{className:"filter-menu-mobile",children:Object(n.jsx)(wr.a,{onClick:this.toggleMobileFilters})})]})}}]),r}(a.Component),kr={query:function(e){return Object(b.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.getUsers(e);case 3:return t.abrupt("return",t.sent);case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,6]])})))}},Cr=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),kr)((function(e){var t=e.changeBoardMemebrs,r=e.onCloseModalMembers,c=e.query,s=e.boardMembers,i=Object(a.useState)([]),u=Object(Ye.a)(i,2),l=u[0],p=u[1],j=function(){var e=Object(b.a)(d.a.mark((function e(t){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return p([]),e.abrupt("return");case 3:return e.next=5,c(t);case 5:r=e.sent,n=r.filter((function(e){return!s.find((function(t){return t._id===e._id}))})),p(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e,r){var n=l.filter((function(t){return t._id!==e._id}));p(n),t(e,r)};return Object(n.jsx)(Gt.a,{onClickAway:r,children:Object(n.jsxs)("div",{className:"members-modal-basic",children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Add users to this board"}),Object(n.jsx)("div",{children:Object(n.jsx)(vt,{onSetFilter:j,placeHolder:"members"})}),l.map((function(e){return Object(n.jsxs)("div",{className:"flex align-center space-between member-row",children:[Object(n.jsx)(o.b,{to:"/user/".concat(e._id,"/general"),children:Object(n.jsxs)("div",{className:"flex align-center space-between",children:[e.imgUrl?Object(n.jsx)("img",{src:e.imgUrl,className:"user-thumbnail",alt:""}):Object(n.jsx)("span",{className:"user-thumbnail",children:R.getNameInitials(e.fullname)}),Object(n.jsx)("span",{className:"modal-user-full-name",children:e.fullname})]})}),Object(n.jsx)(ht.a,{onClick:function(){return f(e,"add")},className:"remove-icon"})]},e._id)}))]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Board Members"}),Object(n.jsx)(Yt,{members:s,onUpdateMembers:f,type:"remove"})]})]})})}));function Sr(e){var t=e.activity,r=e.user,a=Kt(t.byMember);Object(v.d)((function(e){return e.boardReducer.board}));return a&&Object(n.jsxs)("div",{className:"activity",children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)(o.b,{to:"/user/".concat(a._id),children:["  ",a.imgUrl?Object(n.jsx)("img",{src:a.imgUrl,className:"user-thumbnail",alt:"avatar"}):Object(n.jsx)("div",{className:"user-thumbnail",children:a.imgUrl?Object(n.jsx)("img",{src:a.imgUrl,alt:"avatar"}):R.getNameInitials(a.fullname)})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:a.fullname}),Object(n.jsx)("h4",{children:it()(t.createdAt).from(Date.now())})]})]}),Object(n.jsx)("div",{children:Object(n.jsx)("h4",{children:"".concat(a._id===r._id?"You":a.fullname," ").concat(t.txt)})})]})}var Dr=function(e){var t=e.activityFilterText,r=e.activities,a=e.content,c=e.user,s=e.title,i=e.clear,o=e.handleChange;return Object(n.jsxs)("div",{children:[s&&Object(n.jsxs)("div",{className:"activity-filter",children:[Object(n.jsxs)("h2",{className:"activities-board-title",children:[Object(n.jsx)("span",{children:s})," Activities"]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"search-field relative",children:[Object(n.jsx)(Ot.a,{}),Object(n.jsx)("input",{value:t,type:"text",name:"activity",placeholder:"search",autoComplete:"off",onChange:o})]}),Object(n.jsx)("button",{onClick:i,children:"Clear"})]})]}),Object(n.jsx)("span",{children:a}),Object(n.jsx)("div",{className:"activity-list",children:r.map((function(e){return Object(n.jsx)(Sr,{activity:e,user:c},e.id)}))})]})},_r=r(93),Ar=r.n(_r),Mr=function(e){var t=e.board,r=e.onAddGroup,c=e.onChangeTitle,s=e.onChangeBoardMemebrs,i=e.onSetFilter,o=e.loggedInUser,u=e.boardMembers,l=Object(a.useState)(!1),p=Object(Ye.a)(l,2),j=p[0],f=p[1],h=Object(a.useState)(!1),m=Object(Ye.a)(h,2),O=m[0],g=m[1],x=Object(a.useState)(""),y=Object(Ye.a)(x,2),w=y[0],N=y[1],k=Kt(t.createdBy),C=Object(v.c)(),S=function(){f(!j)},D=function(){var e=Object(b.a)(d.a.mark((function e(r){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!O),e.next=3,ee.updateActivities(t);case 3:n=e.sent,C({type:"SET_CURR_BOARD",board:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=Object(a.useMemo)((function(){var e=t.activities,r=new RegExp(w,"i");return e.filter((function(e){return r.test(e.txt)||r.test(e.byMember.fullname)}))}),[t.activities,w]),A=Object(a.useMemo)((function(){return _.filter((function(e){return!e.isRead}))}),[_]),M=Object(a.useMemo)((function(){return _.filter((function(e){return e.isRead}))}),[_]);return Object(n.jsxs)("section",{className:"board-header flex column space-between",children:[Object(n.jsxs)("div",{className:"flex align-center board-header-top-section",children:[Object(n.jsxs)("div",{className:"board-name-and-owner",children:[Object(n.jsx)("h2",{children:Object(n.jsx)(Ft,{onChangeTitle:c,children:t.title})}),Object(n.jsxs)("h4",{children:["","Owner :",null===k||void 0===k?void 0:k.fullname]})]}),Object(n.jsxs)("div",{className:"flex space-between relative",children:[Object(n.jsxs)("span",{className:"board-member-status top-section-item","data-tip":!0,"data-for":"members",onClick:S,children:[" ",Object(n.jsx)(Or.a,{}),"/",t.members.length]}),j&&Object(n.jsx)(Cr,{boardMembers:u,changeBoardMemebrs:s,onCloseModalMembers:S}),Object(n.jsxs)("span",{className:"activity-display top-section-item",onClick:function(){return g(!0)},children:["Activities",Object(n.jsx)("span",{style:{color:A.length?"#0085ff":""},children:A.length}),"/",t.activities.length]}),Object(n.jsx)("div",{className:"".concat(O?"close-Activities":""),onClick:D}),Object(n.jsxs)("div",{className:"activities ".concat(O?"open":""),children:[Object(n.jsx)(Ar.a,{onClick:D}),Object(n.jsx)(Dr,{activityFilterText:w,handleChange:function(e){return N(e.target.value)},activities:A,user:o,clear:Object(b.a)(d.a.mark((function e(){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee.updateActivities(t,!0);case 2:r=e.sent,C({type:"SET_CURR_BOARD",board:r});case 4:case"end":return e.stop()}}),e)}))),title:t.title,content:"New Activities: ".concat(A.length)}),Object(n.jsx)(Dr,{activities:M,user:o,content:"Activities Read: ".concat(M.length)})]})]})]}),Object(n.jsxs)("div",{className:"flex space-between align-flex-end p-m2",children:[Object(n.jsx)("div",{className:"switch-view"}),Object(n.jsxs)("div",{className:"board-options flex align-flex-end relative",children:[Object(n.jsx)(Nr,{onSetFilter:i,board:t,boardMembers:u}),Object(n.jsx)("button",{className:"add-item",onClick:function(){return r()},children:"New group"})]})]}),Object(n.jsx)(tt.a,{className:"sunday-tooltip",id:"members",place:"bottom",effect:"solid",children:"Who is on this board?"})]})},Ur=r(262),Ir=r.n(Ur),Rr=function(e){var t=e.board,r=function(){var e=Object(b.a)(d.a.mark((function e(){var r,n,a,c,s,i,o,u,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in r={},[],t.groups.forEach((function(e){e.cards.forEach(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Promise.all(t.members.map(function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getUserById(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){e.forEach((function(e){r[e.fullname]?r[e.fullname].push({status:t.status}):r[e.fullname]=[{status:t.status}]}))}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})),n="",a="",c={},s=[],i=function(e){r[e].forEach((function(e){s.indexOf(e.status.color)<0&&s.push(e.status.color)})),r[e].forEach((function(t,r,s){if(c[t.status.text])if(a===e&&n===t.status.text){var i=c[t.status.text].data[c[t.status.text].data.length-1]+1;c[t.status.text].data.splice(c[t.status.text].data.length-1,1,i)}else(a!==e&&n===t.status.text||a===e&&n!==t.status.text)&&c[t.status.text].data.push(1);else c[t.status.text]={data:[1],name:t.status.text};a=e,n=t.status.text}))},r)i(o);return u={colors:s,chart:{type:"bar",height:"100%",width:"100%",stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},responsive:[],plotOptions:{bar:{horizontal:!1}},xaxis:{categories:Object.keys(r)},yaxis:{lines:{show:!0}},legend:{position:"right",offsetY:0},fill:{opacity:1}},l=Object.values(c),e.abrupt("return",{options:u,series:l});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()();return Object(n.jsx)("div",{children:Object(n.jsx)(Ir.a,{options:r.options,series:r.series,type:"bar",width:"70%",height:"300%"})})},Tr=r.p+"static/media/clouds.420e35cb.svg",Er=function(){return Object(n.jsxs)("div",{style:{textAlign:"center",padding:"50px 20px 0"},children:[Object(n.jsx)("img",{src:Tr,alt:"clouds",style:{maxWidth:"200px"}}),Object(n.jsx)("h2",{style:{fontWeight:"300"},children:"No results were found..."})]})},Br=function(e){var t=Object(a.useState)(null),r=Object(Ye.a)(t,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(Ye.a)(i,2),u=o[0],l=o[1],p=Object(v.d)((function(e){return e.boardReducer})),f=p.board,h=p.onDrag,m=p.boardMembers,O=Object(v.d)((function(e){return e.userReducer.loggedInUser})),g=Object(v.c)(),x=function(e,t){var r;g((r={cardTitle:e,groupId:t,board:f,user:O},function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.addCard(r);case 3:n=e.sent,t({type:"UPDATE_BOARDS",board:n}),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),a={type:"UPDATE_BOARDS",board:r.board},t(a),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),g(Y("Card Successfully Added"))},y=function(e,t){var r;g((r={board:f,groupId:t,groupTitle:e,user:O},function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee.changeGroupTitle(r);case 3:n=e.sent,t({type:"SET_CURR_BOARD",board:n}),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(0),a={type:"SET_CURR_BOARD",board:r.board},t(a),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},w=function(e){g(function(e,t,r){return function(){var n=Object(b.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee.removeGroup(e,t,r);case 3:c=n.sent,a({type:"SET_CURR_BOARD",board:c}),n.next=13;break;case 8:throw n.prev=8,n.t0=n.catch(0),a({type:"SET_CURR_BOARD",board:e}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(f,e,O)),g(Y("Group Successfully Removed"))},N=Object(a.useMemo)((function(){var e=JSON.parse(JSON.stringify(f));if(c){c.status.length&&(e.groups=e.groups.filter((function(e){var t=e.cards.filter((function(e){return!!c.status.find((function(t){return e.status.text===t}))}));return!!t.length&&(e.cards=t,!0)}))),c.priority.length&&(e.groups=e.groups.filter((function(e){var t=e.cards.filter((function(e){return!!c.priority.find((function(t){return e.priority.text===t}))}));return!!t.length&&(e.cards=t,!0)}))),c.membersId.length&&(e.groups=e.groups.filter((function(e){var t=e.cards.filter((function(e){return!!e.members.find((function(e){return c.membersId.includes(e)}))}));return!!t.length&&(e.cards=t,!0)}))),c.sortBy&&!h&&("name"===c.sortBy?e.groups=ee.sortByTitle(e.groups):e.groups=ee.sortByDate(e.groups));var t=new RegExp(c.txt,"i");e.groups=e.groups.filter((function(e){var r=e.cards.filter((function(e){return t.test(e.title)}));return r.length?(e.cards=r,!0):t.test(e.title)}))}return e}),[c,f]);return Object(n.jsxs)("div",{className:"board-preview-container",children:[Object(n.jsx)(Mr,{loggedInUser:O,board:f,boardMembers:m,onAddGroup:function(){g(function(e,t){return function(){var r=Object(b.a)(d.a.mark((function r(n){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,ee.addGroup(e,t);case 3:a=r.sent,n({type:"UPDATE_BOARDS",board:a}),r.next=13;break;case 8:throw r.prev=8,r.t0=r.catch(0),n({type:"UPDATE_BOARDS",board:e}),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(f,O))},changeBoardView:function(e){var t=e.target.value;l("dashboard"===t)},onChangeTitle:function(e){g(function(e,t,r){return function(){var n=Object(b.a)(d.a.mark((function n(a){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee.changeBoardTitle(e,t,r);case 3:c=n.sent,a({type:"UPDATE_BOARDS",board:c}),n.next=13;break;case 8:throw n.prev=8,n.t0=n.catch(0),a({type:"UPDATE_BOARDS",board:t}),n.t0;case 13:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,f,O))},onChangeBoardMemebrs:function(e,t){g(function(e,t,r,n){return function(){var a=Object(b.a)(d.a.mark((function a(c){var s,i,o;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ee.changeBoardMemebrs(e,t,r,n);case 3:return s=a.sent,i=s.boardToUpdate,Ne(c,i),a.next=8,E.updateNotifications(s);case 8:o=a.sent,I.emit("onUpdateUser",o),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})));return function(e){return a.apply(this,arguments)}}()}(e,f,t,O))},onSetFilter:function(e){s(e)}}),u&&Object(n.jsx)(Rr,{board:f}),!u&&Object(n.jsx)(Xt.a,{onDragEnd:function(e){var t=e.destination,r=e.source,n=e.draggableId,a=e.type;if(t&&(t.droppableId!==r.droppableId||t.index!==r.index)){var c=Object(j.a)({},f),s=Array.from(c.groups);if("group"===a){var i=c.groups.find((function(e){return e.id===n}));s.splice(r.index,1),s.splice(t.index,0,i),c.groups=s,g(function(e,t){return function(){var r=Object(b.a)(d.a.mark((function r(n){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n({type:"SET_CURR_BOARD",board:e}),r.next=5,ee.changeGroupIdx(e,t);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.log(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(c))}else if("card"===a){var o=c.groups.find((function(e){return e.id===r.droppableId})),u=c.groups.find((function(e){return e.id===t.droppableId}));if(o.id===u.id){var l=Array.from(o.cards),p=o.cards.find((function(e){return e.id===n}));l.splice(r.index,1),l.splice(t.index,0,p);var h=Object(j.a)(Object(j.a)({},o),{},{cards:l}),m=c.groups.findIndex((function(e){return e.id===h.id}));c.groups.splice(m,1,h),g(Ae(c))}else{var O=Array.from(o.cards);O.splice(r.index,1);var v=Object(j.a)(Object(j.a)({},o),{},{cards:O}),x=Array.from(u.cards),y=o.cards.find((function(e){return e.id===n}));x.splice(t.index,0,y);var w=Object(j.a)(Object(j.a)({},u),{},{cards:x}),N=c.groups.findIndex((function(e){return e.id===v.id})),k=c.groups.findIndex((function(e){return e.id===w.id}));c.groups.splice(N,1,v),c.groups.splice(k,1,w),g(Ae(c))}}else{var C=r.droppableId.substring(r.droppableId.indexOf("-")+1),S=s.findIndex((function(e){return e.id===C})),D=s[S].cardOrder.splice(r.index,1),_=Object(Ye.a)(D,1)[0];s[S].cardOrder.splice(t.index,0,_),c.groups=s,g(Ae(c))}}},onDragStart:function(){g((function(e){e({type:"ON_DRAG"})}))},children:Object(n.jsx)("div",{className:"main-groups-container",children:Object(n.jsx)(Xt.c,{droppableId:f._id,isCombineEnabled:!0,type:"group",children:function(e){return Object(n.jsxs)("div",Object(j.a)(Object(j.a)({ref:e.innerRef},e.droppableProps),{},{children:[N.groups.length?N.groups.map((function(e,t){return Object(n.jsx)(hr,{group:e,onDrag:h,onAddCard:x,board:f,onRemoveGroup:w,onChangeGroupTitle:y,idx:t},e.id)})):Object(n.jsx)(Er,{}),e.placeholder]}))}})})})]})},Lr=r(265),Fr=r.n(Lr),Gr=r(263),Pr=r.n(Gr),Jr=(r(466),{uploadImg:function(e){return qr.apply(this,arguments)}});function qr(){return(qr=Object(b.a)(d.a.mark((function e(t){var r,n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"dptiv4ajc","rolpcssu",r="https://api.cloudinary.com/v1_1/".concat("dptiv4ajc","/image/upload"),(n=new FormData).append("file",t),n.append("upload_preset","rolpcssu"),e.prev=6,e.next=9,N.a.post("".concat(r),n);case 9:return a=e.sent,e.abrupt("return",a.data.url);case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})))).apply(this,arguments)}var Hr=r(264),zr=r.n(Hr),Wr=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={card:null,cardUpdate:{byMember:null,type:"txt",value:"",title:""},isLoading:!1},e.getCard=function(){var t=Object(b.a)(d.a.mark((function t(r){var n,a,c,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props,a=n.boards,c=n.getKeyById,t.next=3,c(a,r);case 3:s=t.sent,e.setState({card:s});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleChange=function(t){var r=Object(j.a)({},e.state.cardUpdate);if(!t.replace(/(<([^>]+)>)/gi,"").length)return r.value="",void e.setState({cardUpdate:r});r.value=t,e.setState({cardUpdate:r})},e.uploadImg=function(){var t=Object(b.a)(d.a.mark((function t(r){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(j.a)({},e.state.cardUpdate),r.target.files[0]){t.next=3;break}return t.abrupt("return");case 3:return n.value="<h1>Loading...</h1>",e.setState({isLoading:!0,cardUpdate:n}),t.next=7,Jr.uploadImg(r.target.files[0]);case 7:a=t.sent,n.value=a,n.type="img",e.setState({cardUpdate:n,isLoading:!1});case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onImageUploadBefore=function(){var t=Object(j.a)({},e.state.cardUpdate);return t.type="img",e.setState({cardUpdate:t}),!0},e.onAddUpdate=function(t){t.preventDefault();var r=/(<([^>]+)>)/gi,n=Object(j.a)({},e.state.cardUpdate);if(!n.value.replace(r,"").length)return n.value="",void e.setState({cardUpdate:n});"img"===n.type&&(n.value=n.value.replace(r,"")),n.byMember=e.props.loggedInUser,e.props.addCardUpdate(n,e.props.board,e.state.card),e.setState({cardUpdate:{byMember:null,value:"",title:"",type:"txt"},isOpen:!1})},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.match.params.cardId;e&&(this.getCard(e),this.setState({isOpen:!0}))}},{key:"componentDidUpdate",value:function(e,t){if(e.match.params!==this.props.match.params){var r=this.props.match.params.cardId;this.getCard(r)}}},{key:"render",value:function(){var e=this,t=this.props.board,r=this.state,a=r.card,c=r.cardUpdate;if(!a||!t)return null;var s=a.updates.reduce((function(e,t){return"txt"===t.type?e+='<div class="update txt-update">\n                                                <div class="update-header flex space-between align-center">\n                                                    <div class="update-writer flex align-center">\n                                                        <span class="user-thumbnail">'.concat(R.getNameInitials(t.byMember.fullname),"</span>\n                                                        <h5>").concat(t.byMember.fullname,'</h5>\n                                                    </div>\n                                                    <span class="created-at">').concat(it()(t.createdAt).from(Date.now()),'</span>\n                                                </div>\n                                                <div class="update-body">').concat(t.value,"</div>\n                                               </div>"):"img"===t.type&&(e+='<div class="update txt-update">\n                                                <div class="update-header flex space-between align-center">\n                                                 <div class="update-writer flex align-center">\n                                                        <span class="user-thumbnail">'.concat(R.getNameInitials(t.byMember.fullname),"</span>\n                                                        <h5>").concat(t.byMember.fullname,'</h5>\n                                                    </div>\n                                                    <span class="created-at">').concat(it()(t.createdAt).from(Date.now()),'</span>\n                                                </div>\n                                                <div class="update-body"><img class="img-update" src="').concat(t.value,'"/>\n                                                </div></div>\n                                            </div>')),e}),"");return Object(n.jsx)(Gt.a,{onClickAway:function(){return e.props.history.push("/board/".concat(t._id))},children:Object(n.jsxs)("section",{className:"card-updates open",children:[Object(n.jsx)(o.b,{className:"back-arrow",to:"/board/".concat(t._id),onClick:function(){return e.setState({isOpen:!1})},children:Object(n.jsx)(Ar.a,{})}),Object(n.jsxs)("small",{className:"created-at",children:["Created at : ",new Date(a.createdAt).toDateString()]}),Object(n.jsxs)("div",{className:"updates-card-header flex align-center space-between",children:[Object(n.jsx)("h2",{className:"card-update-title",children:this.state.card.title}),Object(n.jsx)("span",{className:"card-status",style:{backgroundColor:a.status.color},children:a.status.text})]}),Object(n.jsx)("div",{className:"text-editor-wrapper",children:Object(n.jsxs)("form",{onSubmit:this.onAddUpdate,children:[Object(n.jsx)(Pr.a,{placeholder:"Write an update...",onChange:this.handleChange,onDrop:this.handleDrop,setDefaultStyle:"",setOptions:{buttonList:[["bold","underline","italic","strike","fontColor","fontSize","align","link","image"]],imageResizing:!1},setContents:c.value}),Object(n.jsxs)("div",{className:"updates-bottom-btns flex space-between align-center",children:[Object(n.jsxs)("label",{className:"upload-file-label",children:[Object(n.jsx)(zr.a,{})," Upload image",Object(n.jsx)("input",{type:"file",onChange:this.uploadImg})]}),Object(n.jsx)("button",{className:"card-update-btn add-item",children:"Update"})]})]})}),Object(n.jsx)("div",{className:"updates-container",children:Object(n.jsx)("div",{dangerouslySetInnerHTML:{__html:s}})})]})})}}]),r}(a.Component),Kr={getKeyById:function(e,t){return Object(b.a)(d.a.mark((function r(){return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.abrupt("return",ee.getKeyById(e,t));case 4:r.prev=4,r.t0=r.catch(0),console.log(r.t0);case 7:case"end":return r.stop()}}),r,null,[[0,4]])})))},addCardUpdate:function(e,t,r){return Object(b.a)(d.a.mark((function n(){return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee.addCardUpdate(e,t,r);case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))}},Zr=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser,boards:e.boardReducer.boards}}),Kr)(Wr),Yr=function(){return Object(n.jsx)("svg",{className:"loader-svg",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(255, 255, 255)",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(n.jsx)("g",{transform:"translate(50 50)",children:Object(n.jsx)("g",{transform:"scale(0.8)",children:Object(n.jsxs)("g",{transform:"translate(-50 -50)",children:[Object(n.jsxs)("g",{children:[Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"0.7575757575757576s"}),Object(n.jsx)("path",{fillOpacity:"0.89",fill:"#ffcc00",d:"M50 50L50 0A50 50 0 0 1 100 50Z"})]}),Object(n.jsxs)("g",{children:[Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1.0101010101010102s"}),Object(n.jsx)("path",{fillOpacity:"0.89",fill:"#00ca72",d:"M50 50L50 0A50 50 0 0 1 100 50Z",transform:"rotate(90 50 50)"})]}),Object(n.jsxs)("g",{children:[Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"1.5151515151515151s"}),Object(n.jsx)("path",{fillOpacity:"0.89",fill:"#fb275d",d:"M50 50L50 0A50 50 0 0 1 100 50Z",transform:"rotate(180 50 50)"})]}),Object(n.jsxs)("g",{children:[Object(n.jsx)("animateTransform",{attributeName:"transform",type:"rotate",repeatCount:"indefinite",values:"0 50 50;360 50 50",keyTimes:"0;1",dur:"3.0303030303030303s"}),Object(n.jsx)("path",{fillOpacity:"0.89",fill:"rgba(255, 255, 255, 0)",d:"M50 50L50 0A50 50 0 0 1 100 50Z",transform:"rotate(270 50 50)"})]})]})})})})},Vr=function(e){var t=e.match,r=e.history,c=Object(a.useState)(window.innerWidth>=800),s=Object(Ye.a)(c,2),i=s[0],o=s[1],l=Object(a.useState)(""),p=Object(Ye.a)(l,2),f=p[0],h=p[1],m=Object(v.c)(),O=Object(v.d)((function(e){return e.userReducer})),g=O.msg,x=O.loggedInUser,y=Object(v.d)((function(e){return e.boardReducer})),w=y.boards,N=y.board,k=y.isScroll,C=y.isLoading,S=Object(a.useState)(""),D=Object(Ye.a)(S,2),_=D[0],A=D[1];Object(a.useEffect)((function(){var e=t.params.boardId;e&&(e!==(null===N||void 0===N?void 0:N._id)&&m({type:"SET_LOADING",isLoading:!0}),window.innerWidth<=800&&o(!1),f&&h(""),I.emit("joinBoard",e),m(Se(e)))}),[t.params]),Object(a.useEffect)((function(){N&&U()}),[null===N||void 0===N?void 0:N.members]),Object(a.useEffect)((function(){k&&o(!1)}),[k]),Object(a.useEffect)((function(){return M(),function(){I.off("boardUpdate",R),I.off("updateUser",T),I.terminate()}}),[]),Object(a.useEffect)((function(){"add"===_?(r.push("/board/".concat(w[w.length-1]._id)),A("")):"load"===_&&w.length&&(r.push("/board/".concat(w[0]._id)),I.emit("boardId",w[0]._id),A(""))}),[w.length]);var M=function(){var e=Object(b.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x){e.next=3;break}return r.push("/"),e.abrupt("return");case 3:m({type:"SET_LOADING",isLoading:!0}),n=t.params.boardId,I.setup(),I.emit("userSocket",x),I.on("boardUpdate",R),I.on("updateUser",T),n||w.length?!n&&w.length?r.push("/board/".concat(w[0]._id)):!w.length&&n&&m(ke(x._id)):(A("load"),m(ke(x._id))),n&&m(Se(n));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getUsersById(N.members);case 2:t=e.sent,m(_e(t)),setTimeout(m,1800,{type:"SET_LOADING",isLoading:!1});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){m(function(e){return function(t){t({type:"UPDATE_BOARDS",board:e})}}(e))},T=function(e){m($(e))},B=function(){var e=Object(b.a)(d.a.mark((function e(t,n){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(Ce(t));case 2:t===N._id&&((a=ee.getBoardIdByIdx(n,w))?r.push("/board/".concat(a)):r.push("/board")),m(Y("Board Successfully Deleted"));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A("add"),e.next=3,m(De(t,x._id));case 3:m(Y("Board Successfully Added"));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return x?C||"add"===_?Object(n.jsx)(Yr,{}):Object(n.jsxs)("div",{className:"board-app-container",children:[Object(n.jsx)(jt,{onLogOut:function(){return m(X())},user:x,onCleanNotifications:function(){return m((e=x,function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.cleanNotifications(e);case 3:n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var e},onUpdateNotifications:function(){return m((e=x,Object(b.a)(d.a.mark((function t(){var r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.updateReadNotifications(e);case 3:return r=t.sent,t.abrupt("return",(function(e){e({type:"SET_LOGGED_IN_USER",user:r})}));case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))));var e}}),Object(n.jsxs)("div",{className:"flex board-and-sidebar-container",children:[Object(n.jsxs)("div",{className:"board-sidebar-container ".concat(i?"":"closed"),children:[Object(n.jsx)("button",{className:"toggle-board-sidebar",onClick:function(){return o(!i)},children:i?Object(n.jsx)(Ar.a,{}):Object(n.jsx)(Fr.a,{})}),Object(n.jsx)(Tt,{boards:function(){var e=new RegExp(f,"i");return w.filter((function(t){return e.test(t.title)}))}(),onDeleteBoard:B,onAddBoard:L,user:x,onSetFilter:function(e){return h(e)}})]}),N&&Object(n.jsx)(Br,{}),Object(n.jsx)(u.b,{path:"".concat(t.path,"/card/:cardId"),render:function(e){return Object(n.jsx)(Zr,Object(j.a)({board:N},e))}}),g&&Object(n.jsx)("div",{className:"snackbar slide-top",children:g})]})]}):Object(n.jsx)(u.a,{exact:!0,to:"/"})},Xr=r.p+"static/media/undrawtask.3bbcbb76.svg";var $r={checkLogin:V,loadBoards:ke,updateUserNotifications:$},Qr=Object(v.b)((function(e){return{}}),$r)((function(e){return Object(n.jsxs)("div",{className:"home-main-container",children:[Object(n.jsx)(Fe,{}),Object(n.jsx)("div",{className:"home-hero",children:Object(n.jsxs)("div",{className:"home-hero-inner",children:[Object(n.jsxs)("div",{className:"home-hero-titles flex",children:[Object(n.jsxs)("h2",{children:["Join the ",Object(n.jsx)("span",{children:"Sunday"})," revolution"]}),Object(n.jsx)("h3",{children:"Manage your project with the team, all in one workspace"}),Object(n.jsx)("button",{onClick:Object(b.a)(d.a.mark((function t(){var r,n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.checkLogin({username:"guest",password:"12345678"});case 3:if(!(r=t.sent)){t.next=10;break}return t.next=7,e.loadBoards(r._id);case 7:n=t.sent,a=n.length?"/board/".concat(n[0]._id):"/board",e.history.push(a);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),children:"Get started!"})]}),Object(n.jsx)("img",{src:Xr,alt:"undraw task img"})]})})]})})),en=r(267),tn=r.n(en),rn=r(266),nn=r.n(rn),an=r(153),cn=r.n(an),sn=r(268),on=r.n(sn),un=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={boards:null},e.getActiveCards=function(){var t=e.state.boards,r=e.props.user;return t.reduce((function(e,t){return t.groups.forEach((function(n){n.cards.forEach((function(n){n.members.forEach((function(a){if(a===r._id&&"Done"!==n.status.text){var c={id:n.id,title:n.title,status:n.status,boardId:t._id};e.push(c)}}))}))})),e}),[])},e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=Object(b.a)(d.a.mark((function e(){var t,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.user,e.next=3,ee.query(t._id);case 3:r=e.sent,this.setState({boards:r});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.user,t=this.state.boards;if(!t)return null;var r=this.getActiveCards();return Object(n.jsx)("div",{className:"general-container",children:Object(n.jsxs)("div",{className:"general-inner-container",children:[Object(n.jsxs)("div",{className:"list-container boards-list",children:[Object(n.jsxs)("div",{className:"list-title-container",children:[Object(n.jsx)("h2",{children:"Boards"}),Object(n.jsx)(nn.a,{})]}),Object(n.jsx)("div",{className:"list-items-container",children:t.length?t.map((function(e){return Object(n.jsx)("div",{className:"info-row",children:Object(n.jsxs)(o.b,{to:"/board/".concat(e._id),children:[Object(n.jsx)("span",{children:e.title}),Object(n.jsx)(tn.a,{})]})},e._id)})):Object(n.jsx)("h3",{children:"No boards to show"})})]}),Object(n.jsxs)("div",{className:"list-container active-cards-list",children:[Object(n.jsxs)("div",{className:"list-title-container",children:[Object(n.jsx)("h2",{children:"Active cards"}),Object(n.jsx)(cn.a,{})]}),Object(n.jsx)("div",{className:"list-items-container",children:r?r.map((function(e){return Object(n.jsx)("div",{className:"info-row",children:Object(n.jsx)(o.b,{style:{borderLeft:"7px solid ".concat(e.status.color)},to:"/board/".concat(e.boardId,"/card/").concat(e.id),children:Object(n.jsx)("span",{children:e.title})})},e.id)})):Object(n.jsx)("h3",{children:"No active cards to show"})})]}),Object(n.jsxs)("div",{className:"list-container personal-info-list",children:[Object(n.jsxs)("div",{className:"list-title-container",children:[Object(n.jsx)("h2",{children:"Contact information"}),Object(n.jsx)(cn.a,{})]}),Object(n.jsx)("div",{className:"list-items-container",children:Object(n.jsx)("div",{className:"info-row",children:Object(n.jsxs)("a",{href:"mailto:".concat(e.email),children:[Object(n.jsx)(on.a,{}),Object(n.jsx)("span",{children:e.email})]})})})]})]})})}}]),r}(a.Component),ln=function(e){Object(m.a)(r,e);var t=Object(O.a)(r);function r(){var e;Object(f.a)(this,r);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={user:{_id:"",fullname:"",dateofbirth:"",imgUrl:"",tel:""},triggerMsg:!1,isLoading:!1},e.validatePhoneNumber=function(e){return/^(?:(?:(\+?972|\(\+?972\)|\+?\(972\))(?:\s|\.|-)?([1-9]\d?))|(0[23489]{1})|(0[57]{1}[0-9]))(?:\s|\.|-)?([^0\D]{1}\d{2}(?:\s|\.|-)?\d{4})$/gm.test(e)},e.handleChange=function(t){var r=t.target,n=r.name,a=r.value,c=e.state.user,s=Object(j.a)({},c);s[n]=a,e.setState({user:s})},e.onTriggerMsg=function(t){e.setState({triggerMsg:t},(function(){setTimeout((function(){e.setState({triggerMsg:""})}),1500)}))},e.uploadImg=function(t){t.target.files[0]&&e.setState({isLoading:!0},Object(b.a)(d.a.mark((function r(){var n,a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Jr.uploadImg(t.target.files[0]);case 2:n=r.sent,(a=Object(j.a)({},e.state.user)).imgUrl=n,e.setState({user:a,isLoading:!1});case 6:case"end":return r.stop()}}),r)}))))},e.onUpdateProfile=function(){var t=Object(b.a)(d.a.mark((function t(r){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),n=e.state,a=n.user,!n.isLoading){t.next=4;break}return t.abrupt("return",e.onTriggerMsg("Please wait for loading your image"));case 4:if(a.fullname&&a.email){t.next=7;break}return e.onTriggerMsg("Please fill required fields"),t.abrupt("return");case 7:if(!a.tel){t.next=12;break}if(e.validatePhoneNumber(a.tel)){t.next=12;break}return e.onTriggerMsg("Enter valid phone number"),t.abrupt("return");case 12:return t.next=14,e.props.updateUser(a);case 14:e.onTriggerMsg("Profile updated successfully!");case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.user;this.setState({user:e})}},{key:"componentDidUpdate",value:function(e,t){e.user!==this.props.user&&this.setState({user:this.props.user})}},{key:"render",value:function(){var e=this.state,t=e.user,r=e.triggerMsg,a=e.isLoading;return Object(n.jsx)("div",{className:"update-profile-container",children:Object(n.jsx)("div",{className:"update-profile-inner-container",children:Object(n.jsxs)("form",{onSubmit:this.onUpdateProfile,children:[a?Object(n.jsx)("div",{className:"user-thumbnail loader-img-container",style:{filter:"unset"},children:Object(n.jsx)("img",{className:"loader-img",src:"https://i.gifer.com/7SMw.gif"})}):Object(n.jsx)("div",{className:a?"loading-img":"",children:Object(n.jsxs)("label",{children:[t.imgUrl?Object(n.jsxs)("div",{className:"user-hover relative",children:[Object(n.jsx)("img",{className:"user-thumbnail ".concat(a?"loading-img":""),src:t.imgUrl,alt:"profile"}),Object(n.jsxs)("h3",{className:a?"loading":"",children:[a?"Loading":"Change"," "]})]}):Object(n.jsxs)("div",{className:"user-hover relative",children:[Object(n.jsx)("span",{className:"user-thumbnail ".concat(a?"loading-img":""),children:R.getNameInitials(t.fullname)}),Object(n.jsxs)("h3",{className:a&&!t.imgUrl?"loading":"",children:[a?"Loading":"Upload"," "]})]}),Object(n.jsx)("input",{onChange:this.uploadImg,type:"file"})]})}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{"aria-required":!0,htmlFor:"full-name",children:"Full name"}),Object(n.jsx)("input",{value:t.fullname||"",onChange:this.handleChange,type:"text",placeholder:"Full name",name:"fullname",id:"full-name"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"date-of-birth",children:"Date of birth"}),Object(n.jsx)("input",{value:t.dateofbirth||"",onChange:this.handleChange,type:"date",name:"dateOfBirth",id:"date-of-birth"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{"aria-required":!0,htmlFor:"email",children:"email"}),Object(n.jsx)("input",{value:t.email||"",onChange:this.handleChange,type:"email",placeholder:"Email",name:"email",id:"email"})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{htmlFor:"tel",children:"Phone number"}),Object(n.jsx)("input",{value:t.tel||"",onChange:this.handleChange,type:"tel",placeholder:"Phone number",name:"tel",id:"tel"})]}),r&&Object(n.jsx)("h4",{children:r}),Object(n.jsx)("button",{type:"submit",children:"Update profile"})]})})})}}]),r}(a.Component),dn={updateUser:function(e){return function(){var t=Object(b.a)(d.a.mark((function t(r){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.update(e);case 3:return n=t.sent,r({type:"SET_LOGGED_IN_USER",user:n}),t.abrupt("return",n);case 9:throw t.prev=9,t.t0=t.catch(0),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},bn=Object(v.b)((function(e){return{user:e.userReducer.loggedInUser}}),dn)(ln),pn=r(269),jn=r.n(pn),fn={logOut:X},hn=Object(v.b)((function(e){return{loggedInUser:e.userReducer.loggedInUser}}),fn)((function(e){var t=e.logOut,r=e.loggedInUser,c=e.history,s=e.match,i=Kt(s.params.userId),l=Object(a.useState)(null),p=Object(Ye.a)(l,2),f=p[0],h=p[1],m=Object(a.useState)(!1),O=Object(Ye.a)(m,2),g=O[0],x=O[1],y=Object(v.d)((function(e){return e.boardReducer.board}));return Object(a.useEffect)((function(){r||c.push("/")}),[]),Object(a.useEffect)((function(){Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=6;break}return e.next=3,ee.query(i._id);case 3:t=e.sent,h(t),r._id===i._id&&x(!0);case 6:case"end":return e.stop()}}),e)})))()}),[i]),r&&y?i&&f?(i=i._id===r._id?r:i,Object(n.jsx)("div",{children:Object(n.jsxs)("div",{className:"user-profile-main-container",children:[Object(n.jsx)(jt,{onLogOut:t,user:r}),Object(n.jsxs)("div",{className:"user-profile-panel",children:[Object(n.jsxs)("div",{className:"user-profile-header",children:[Object(n.jsx)(o.b,{to:"/board/".concat(y._id),className:"link",children:Object(n.jsx)(jn.a,{})}),Object(n.jsx)("span",{className:"user-profile-initials",children:i.imgUrl?Object(n.jsx)("img",{src:i.imgUrl,alt:"profile"}):R.getNameInitials(i.fullname)}),Object(n.jsxs)("h3",{children:["".concat(g?"Hello,":"")," ",Object(n.jsx)("b",{children:i.fullname})]}),g&&Object(n.jsxs)("div",{className:"user-profile-tabs",children:[Object(n.jsx)(o.b,{to:"".concat(s.url,"/general"),className:"link",children:"General"}),Object(n.jsx)(o.b,{to:"".concat(s.url,"/update_profile"),className:"link",children:"Update profile"})]})]}),Object(n.jsxs)("div",{className:"user-profile-content",children:[Object(n.jsx)(u.b,{path:"".concat(s.path,"/general"),render:function(e){return Object(n.jsx)(un,Object(j.a)({user:i},e))}}),Object(n.jsx)(u.b,{path:"".concat(s.path,"/update_profile"),render:function(e){return Object(n.jsx)(bn,Object(j.a)({},e))}})]})]})]})})):Object(n.jsx)(Yr,{}):Object(n.jsx)(u.a,{exact:!0,to:"/"})}));function mn(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{path:"/board/:boardId",component:Vr}),Object(n.jsx)(u.b,{path:"/user/:userId",component:hn}),Object(n.jsx)(u.b,{path:"/board",component:Vr}),Object(n.jsx)(u.b,{exact:!0,path:"/login",component:Je}),Object(n.jsx)(u.b,{exact:!0,path:"/signUp",component:Ze}),Object(n.jsx)(u.b,{exact:!0,path:"/",component:Qr})]})})})}var On=r(46),vn=r(270),gn={users:[],loggedInUser:E.getLoggedinUser(),msg:""};var xn={boards:[],board:null,onDrag:!1,boardMembers:[],isLoading:!0,isScroll:!1};var yn=Object(On.c)({boardReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOARDS":return Object(j.a)(Object(j.a)({},e),{},{boards:t.boards});case"SET_BOARD_MEMBERS":return Object(j.a)(Object(j.a)({},e),{},{boardMembers:t.members});case"SET_CURR_BOARD":return Object(j.a)(Object(j.a)({},e),{},{board:t.board});case"UPDATE_BOARDS":return Object(j.a)(Object(j.a)({},e),{},{boards:e.boards.map((function(e){return e._id===t.board._id?t.board:e})),board:t.board});case"ADD_BOARD":return Object(j.a)(Object(j.a)({},e),{},{boards:[].concat(Object(g.a)(e.boards),[t.board])});case"REMOVE_BOARD":return Object(j.a)(Object(j.a)({},e),{},{boards:e.boards.filter((function(e){return e._id!==t.boardId}))});case"ON_DRAG":return Object(j.a)(Object(j.a)({},e),{},{onDrag:!0});case"ON_DRAG_END":return Object(j.a)(Object(j.a)({},e),{},{onDrag:!1});case"SET_LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.isLoading});case"GROUP_SCROLL":return Object(j.a)(Object(j.a)({},e),{},{isScroll:t.isScroll});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOGGED_IN_USER":return Object(j.a)(Object(j.a)({},e),{},{loggedInUser:t.user});case"LOG_OUT":return Object(j.a)(Object(j.a)({},e),{},{loggedInUser:null});case"SET_MSG":return Object(j.a)(Object(j.a)({},e),{},{msg:t.msg});case"CLEAR_MSG":return Object(j.a)(Object(j.a)({},e),{},{msg:null});default:return e}}}),wn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||On.d,Nn=Object(On.e)(yn,wn(Object(On.a)(vn.a)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var kn=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,516)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))};i.a.render(Object(n.jsx)(v.a,{store:Nn,children:Object(n.jsx)(mn,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),kn()}},[[467,1,2]]]);
//# sourceMappingURL=main.a052406d.chunk.js.map